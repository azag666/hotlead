<!DOCTYPE html>
<html lang="pt-BR" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HotLead Dashboard - Profissional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        html, body, #root {
            height: 100%;
        }
        .truncate-text {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        #darkModeToggle.spin-active {
            animation: spin 0.5s forwards;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .group:hover .rotate-on-hover {
            transform: rotate(360deg);
            transition: transform 0.5s ease-in-out;
        }
        /* Custom scrollbar for dark mode */
        .dark ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        .dark ::-webkit-scrollbar-track {
            background: #333;
            border-radius: 10px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 10px;
        }
        .dark ::-webkit-scrollbar-thumb:hover {
            background: #777;
        }
        .table-container {
            overflow-x: auto;
        }
        .custom-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .custom-table th, .custom-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #4a4a4a; /* Darker border for dark theme */
        }
        .custom-table th {
            background-color: #3a3a3a; /* Slightly lighter header for dark theme */
            color: #e0e0e0;
            font-weight: 600;
            text-transform: uppercase;
        }
        .custom-table tr:hover {
            background-color: #2a2a2a; /* Lighter hover for dark theme */
        }
        /* Styles for API Documentation within the dashboard */
        .api-doc-container {
            background-color: #1a202c; /* bg-gray-900 */
            color: #e2e8f0; /* text-gray-200 */
            line-height: 1.6;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .api-doc-container h1, .api-doc-container h2, .api-doc-container h3, .api-doc-container h4 {
            color: #48bb78; /* text-green-500 */
            font-weight: bold;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .api-doc-container h1 { font-size: 2.5rem; }
        .api-doc-container h2 { font-size: 2rem; border-bottom: 1px solid #4a5568; padding-bottom: 0.5rem; }
        .api-doc-container h3 { font-size: 1.75rem; color: #63b3ed; /* text-blue-400 */ }
        .api-doc-container h4 { font-size: 1.5rem; color: #a0aec0; /* text-gray-400 */ }
        .api-doc-container p {
            margin-bottom: 1rem;
        }
        .api-doc-container ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .api-doc-container li {
            margin-bottom: 0.5rem;
        }
        .api-doc-container pre {
            background-color: #2d3748; /* bg-gray-800 */
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-bottom: 1rem;
        }
        .api-doc-container code {
            font-family: 'Fira Code', 'Cascadia Code', monospace;
            background-color: #4a5568; /* bg-gray-600 */
            padding: 0.2em 0.4em;
            border-radius: 0.25rem;
            color: #edf2f7; /* text-gray-100 */
        }
        .api-doc-container strong {
            color: #a0aec0;
        }
        .api-doc-container .note {
            background-color: #2a4365; /* bg-blue-800 darker */
            border-left: 4px solid #63b3ed; /* border-blue-400 */
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0.25rem;
        }
        .api-doc-container .warning {
            background-color: #634d2a; /* bg-yellow-800 darker */
            border-left: 4px solid #ecc94b; /* border-yellow-400 */
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0.25rem;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 transition-colors duration-300">
    <div id="root" class="min-h-full flex flex-col"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React; // Adicionado useRef

        // --- Funções de Ajuda ---
        const formatCurrency = (value) => {
            const num = Number(value);
            if (isNaN(num)) return "R$ 0,00";
            return num.toLocaleString("pt-BR", { style: "currency", currency: "BRL" });
        };

        const formatDate = (dateStr) => {
            if (!dateStr) return "-";
            const d = new Date(dateStr);
            return d.toLocaleDateString("pt-BR");
        };

        const calculateProfit = (revenue, spending) => {
            return revenue - spending;
        };

        // --- Mock Data (Dados de simulação para desenvolvimento) ---
        // Em um ambiente real, estes dados viriam de APIs do seu backend ou das plataformas.

        // MOCK_SALES_DATA atualizado para refletir o formato da planilha
        const MOCK_SALES_DATA = [
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000796', valor: 1000.00, data_geracao: '2025-07-27T12:38:41Z', data_pagamento: '2025-07-27T12:40:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000798', valor: 1790.00, data_geracao: '2025-07-27T13:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000799', valor: 1790.00, data_geracao: '2025-07-27T13:15:00Z', data_pagamento: '2025-07-27T13:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000800', valor: 1790.00, data_geracao: '2025-07-27T13:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000801', valor: 1790.00, data_geracao: '2025-07-27T13:45:00Z', data_pagamento: '2025-07-27T13:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000802', valor: 1790.00, data_geracao: '2025-07-27T14:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000803', valor: 1790.00, data_geracao: '2025-07-27T14:15:00Z', data_pagamento: '2025-07-27T14:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000804', valor: 1790.00, data_geracao: '2025-07-27T14:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000805', valor: 1790.00, data_geracao: '2025-07-27T14:45:00Z', data_pagamento: '2025-07-27T14:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000806', valor: 1790.00, data_geracao: '2025-07-27T15:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000807', valor: 1790.00, data_geracao: '2025-07-27T15:15:00Z', data_pagamento: '2025-07-27T15:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000808', valor: 1790.00, data_geracao: '2025-07-27T15:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000809', valor: 1790.00, data_geracao: '2025-07-27T15:45:00Z', data_pagamento: '2025-07-27T15:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000810', valor: 1790.00, data_geracao: '2025-07-27T16:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000811', valor: 1790.00, data_geracao: '2025-07-27T16:15:00Z', data_pagamento: '2025-07-27T16:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000812', valor: 1790.00, data_geracao: '2025-07-27T16:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000813', valor: 1790.00, data_geracao: '2025-07-27T16:45:00Z', data_pagamento: '2025-07-27T16:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000814', valor: 1790.00, data_geracao: '2025-07-27T17:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000815', valor: 1790.00, data_geracao: '2025-07-27T17:15:00Z', data_pagamento: '2025-07-27T17:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000816', valor: 1790.00, data_geracao: '2025-07-27T17:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000817', valor: 1790.00, data_geracao: '2025-07-27T17:45:00Z', data_pagamento: '2025-07-27T17:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000818', valor: 1790.00, data_geracao: '2025-07-27T18:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000819', valor: 1790.00, data_geracao: '2025-07-27T18:15:00Z', data_pagamento: '2025-07-27T18:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000820', valor: 1790.00, data_geracao: '2025-07-27T18:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000821', valor: 1790.00, data_geracao: '2025-07-27T18:45:00Z', data_pagamento: '2025-07-27T18:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000822', valor: 1790.00, data_geracao: '2025-07-27T19:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000823', valor: 1790.00, data_geracao: '2025-07-27T19:15:00Z', data_pagamento: '2025-07-27T19:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000824', valor: 1790.00, data_geracao: '2025-07-27T19:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000825', valor: 1790.00, data_geracao: '2025-07-27T19:45:00Z', data_pagamento: '2025-07-27T19:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000826', valor: 1790.00, data_geracao: '2025-07-27T20:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000827', valor: 1790.00, data_geracao: '2025-07-27T20:15:00Z', data_pagamento: '2025-07-27T20:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000828', valor: 1790.00, data_geracao: '2025-07-27T20:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000829', valor: 1790.00, data_geracao: '2025-07-27T20:45:00Z', data_pagamento: '2025-07-27T20:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000830', valor: 1790.00, data_geracao: '2025-07-27T21:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000831', valor: 1790.00, data_geracao: '2025-07-27T21:15:00Z', data_pagamento: '2025-07-27T21:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000832', valor: 1790.00, data_geracao: '2025-07-27T21:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000833', valor: 1790.00, data_geracao: '2025-07-27T21:45:00Z', data_pagamento: '2025-07-27T21:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000834', valor: 1790.00, data_geracao: '2025-07-27T22:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000835', valor: 1790.00, data_geracao: '2025-07-27T22:15:00Z', data_pagamento: '2025-07-27T22:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000836', valor: 1790.00, data_geracao: '2025-07-27T22:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000837', valor: 1790.00, data_geracao: '2025-07-27T22:45:00Z', data_pagamento: '2025-07-27T22:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000838', valor: 1790.00, data_geracao: '2025-07-27T23:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000839', valor: 1790.00, data_geracao: '2025-07-27T23:15:00Z', data_pagamento: '2025-07-27T23:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000840', valor: 1790.00, data_geracao: '2025-07-27T23:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000841', valor: 1790.00, data_geracao: '2025-07-27T23:45:00Z', data_pagamento: '2025-07-27T23:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000842', valor: 1790.00, data_geracao: '2025-07-28T00:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000843', valor: 1790.00, data_geracao: '2025-07-28T00:15:00Z', data_pagamento: '2025-07-28T00:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000844', valor: 1790.00, data_geracao: '2025-07-28T00:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000845', valor: 1790.00, data_geracao: '2025-07-28T00:45:00Z', data_pagamento: '2025-07-28T00:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000846', valor: 1790.00, data_geracao: '2025-07-28T01:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000847', valor: 1790.00, data_geracao: '2025-07-28T01:15:00Z', data_pagamento: '2025-07-28T01:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000848', valor: 1790.00, data_geracao: '2025-07-28T01:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000849', valor: 1790.00, data_geracao: '2025-07-28T01:45:00Z', data_pagamento: '2025-07-28T01:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000850', valor: 1790.00, data_geracao: '2025-07-28T02:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000851', valor: 1790.00, data_geracao: '2025-07-28T02:15:00Z', data_pagamento: '2025-07-28T02:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000852', valor: 1790.00, data_geracao: '2025-07-28T02:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000853', valor: 1790.00, data_geracao: '2025-07-28T02:45:00Z', data_pagamento: '2025-07-28T02:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000854', valor: 1790.00, data_geracao: '2025-07-28T03:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000855', valor: 1790.00, data_geracao: '2025-07-28T03:15:00Z', data_pagamento: '2025-07-28T03:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000856', valor: 1790.00, data_geracao: '2025-07-28T03:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000857', valor: 1790.00, data_geracao: '2025-07-28T03:45:00Z', data_pagamento: '2025-07-28T03:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000858', valor: 1790.00, data_geracao: '2025-07-28T04:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000859', valor: 1790.00, data_geracao: '2025-07-28T04:15:00Z', data_pagamento: '2025-07-28T04:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000860', valor: 1790.00, data_geracao: '2025-07-28T04:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000861', valor: 1790.00, data_geracao: '2025-07-28T04:45:00Z', data_pagamento: '2025-07-28T04:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000862', valor: 1790.00, data_geracao: '2025-07-28T05:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000863', valor: 1790.00, data_geracao: '2025-07-28T05:15:00Z', data_pagamento: '2025-07-28T05:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000864', valor: 1790.00, data_geracao: '2025-07-28T05:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000865', valor: 1790.00, data_geracao: '2025-07-28T05:45:00Z', data_pagamento: '2025-07-28T05:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000866', valor: 1790.00, data_geracao: '2025-07-28T06:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000867', valor: 1790.00, data_geracao: '2025-07-28T06:15:00Z', data_pagamento: '2025-07-28T06:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000868', valor: 1790.00, data_geracao: '2025-07-28T06:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000869', valor: 1790.00, data_geracao: '2025-07-28T06:45:00Z', data_pagamento: '2025-07-28T06:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000870', valor: 1790.00, data_geracao: '2025-07-28T07:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000871', valor: 1790.00, data_geracao: '2025-07-28T07:15:00Z', data_pagamento: '2025-07-28T07:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000872', valor: 1790.00, data_geracao: '2025-07-28T07:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000873', valor: 1790.00, data_geracao: '2025-07-28T07:45:00Z', data_pagamento: '2025-07-28T07:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000874', valor: 1790.00, data_geracao: '2025-07-28T08:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000875', valor: 1790.00, data_geracao: '2025-07-28T08:15:00Z', data_pagamento: '2025-07-28T08:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000876', valor: 1790.00, data_geracao: '2025-07-28T08:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000877', valor: 1790.00, data_geracao: '2025-07-28T08:45:00Z', data_pagamento: '2025-07-28T08:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000878', valor: 1790.00, data_geracao: '2025-07-29T09:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000879', valor: 1790.00, data_geracao: '2025-07-29T09:15:00Z', data_pagamento: '2025-07-29T09:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000880', valor: 1790.00, data_geracao: '2025-07-29T09:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000881', valor: 1790.00, data_geracao: '2025-07-29T09:45:00Z', data_pagamento: '2025-07-29T09:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000882', valor: 1790.00, data_geracao: '2025-07-29T10:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000883', valor: 1790.00, data_geracao: '2025-07-29T10:15:00Z', data_pagamento: '2025-07-29T10:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000884', valor: 1790.00, data_geracao: '2025-07-29T10:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000885', valor: 1790.00, data_geracao: '2025-07-29T10:45:00Z', data_pagamento: '2025-07-29T10:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000886', valor: 1790.00, data_geracao: '2025-07-29T11:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000887', valor: 1790.00, data_geracao: '2025-07-29T11:15:00Z', data_pagamento: '2025-07-29T11:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000888', valor: 1790.00, data_geracao: '2025-07-29T11:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000889', valor: 1790.00, data_geracao: '2025-07-29T11:45:00Z', data_pagamento: '2025-07-29T11:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000990', valor: 1790.00, data_geracao: '2025-07-29T13:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000991', valor: 1790.00, data_geracao: '2025-07-29T13:15:00Z', data_pagamento: '2025-07-29T13:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000992', valor: 1790.00, data_geracao: '2025-07-29T13:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000993', valor: 1790.00, data_geracao: '2025-07-29T13:45:00Z', data_pagamento: '2025-07-29T13:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000994', valor: 1790.00, data_geracao: '2025-07-29T14:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000995', valor: 1790.00, data_geracao: '2025-07-29T14:15:00Z', data_pagamento: '2025-07-29T14:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000996', valor: 1790.00, data_geracao: '2025-07-29T14:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000997', valor: 1790.00, data_geracao: '2025-07-29T14:45:00Z', data_pagamento: '2025-07-29T14:48:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000998', valor: 1790.00, data_geracao: '2025-07-29T15:00:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2000999', valor: 1790.00, data_geracao: '2025-07-29T15:15:00Z', data_pagamento: '2025-07-29T15:18:00Z', status: 'PAGO', meta_status: 'PAID' },
            { modelo: 'Joyca', campanha: 'lead_quente_01', codigo_pix: '2001000', valor: 1790.00, data_geracao: '2025-07-29T15:30:00Z', data_pagamento: null, status: 'AGUARDANDO_PAGAMENTO', meta_status: null },
        ];

        // MOCK_AD_ACCOUNTS agora é global
        const MOCK_AD_ACCOUNTS = [
            { id: "507111372463621", name: "Conta de Anúncios 1 (Principal)" },
            { id: "1421566932486575", name: "Conta de Anúncios 2 (Backup)" },
            { id: "1767547067979139", name: "Conta de Anúncios 3 (Testes)" },
            { id: "1073555467565665", name: "Conta de Anúncios 4 (Internacional)" },
            { id: "735462832220538", name: "Conta de Anúncios 5 (Parceiros)" },
        ];

        const MOCK_BOTS_DATA_INITIAL = [
            { id: 'Joyca', name: 'Joyca', status: 'ativo', token: '7100827255:AAH4i1m56X-A-u06z1-yJ1w-oD123456789', linkedCampaigns: ['adset_1'], adAccountId: '507111372463621' }, // Adicionado adAccountId
            { id: 'bot_beta', name: 'Bot Beta de Suporte', status: 'ativo', token: 'token_beta_456', linkedCampaigns: ['adset_2'], adAccountId: '507111372463621' },
            { id: 'bot_gamma', name: 'Bot Gamma de Marketing', status: 'inativo', token: 'token_gamma_789', linkedCampaigns: [], adAccountId: '' },
            { id: 'bot_delta', name: 'Bot Delta de Notificações', status: 'ativo', token: 'token_delta_abc', linkedCampaigns: [], adAccountId: '' },
        ];

        const MOCK_ADSETS_DATA = [
            { id: 'adset_1', name: 'Conjunto de Anúncios Verão 2025 (Campanha 1)', status: 'ACTIVE', campaign_id: '1', objective: 'LEAD_GENERATION', spend: 350.50, impressions: 50000, clicks: 1200, account_id: '507111372463621' },
            { id: 'adset_2', name: 'Conjunto de Anúncios Inverno 2025 (Campanha 1)', status: 'PAUSED', campaign_id: '1', objective: 'PURCHASE', spend: 120.00, impressions: 15000, clicks: 300, account_id: '507111372463621' },
            { id: 'adset_3', name: 'Conjunto de Anúncios Oferta Relâmpago (Campanha 2)', status: 'ACTIVE', campaign_id: '2', objective: 'CONVERSION', spend: 800.00, impressions: 80000, clicks: 2500, account_id: '1421566932486575' },
            { id: 'adset_4', name: 'Conjunto de Anúncios Black Friday (Campanha 3)', status: 'ACTIVE', campaign_id: '3', objective: 'CONVERSION', spend: 1200.00, impressions: 100000, clicks: 3000, account_id: '1767547067979139' },
            { id: 'adset_5', name: 'Conjunto de Anúncios Natal (Campanha 3)', status: 'PAUSED', campaign_id: '3', objective: 'LEAD_GENERATION', spend: 50.00, impressions: 5000, clicks: 100, account_id: '1767547067979139' },
        ];

        const MOCK_ADS_DATA = [
            { id: 'ad_1', name: 'Criativo Carrossel Produto A', status: 'ACTIVE', adset_id: 'adset_1', preview_url: 'https://placehold.co/150x150/FF6347/FFFFFF?text=Ad+1', spend: 200.00, impressions: 25000, clicks: 500 },
            { id: 'ad_2', name: 'Criativo Vídeo Depoimento B', status: 'ACTIVE', adset_id: 'adset_1', preview_url: 'https://placehold.co/150x150/4682B4/FFFFFF?text=Ad+2', spend: 150.50, impressions: 25000, clicks: 700 },
            { id: 'ad_3', name: 'Criativo Imagem Única Desconto', status: 'ACTIVE', adset_id: 'adset_3', preview_url: 'https://placehold.co/150x150/32CD32/FFFFFF?text=Ad+3', spend: 400.00, impressions: 40000, clicks: 1200 },
            { id: 'ad_4', name: 'Criativo Story CTA', status: 'PAUSED', adset_id: 'adset_3', preview_url: 'https://placehold.co/150x150/FFD700/000000?text=Ad+4', spend: 400.00, impressions: 40000, clicks: 1300 },
        ];


        // --- Componentes ---

        // Componente de Cabeçalho (Header)
        function Header({ onNavigate, currentPage, toggleDarkMode, isDarkMode }) {
            const [isSpinning, setIsSpinning] = useState(false);

            const handleToggleClick = () => {
                setIsSpinning(true);
                toggleDarkMode();
            };

            const handleAnimationEnd = () => {
                setIsSpinning(false);
            };

            return (
                <header className="bg-gray-800 dark:bg-gray-800 text-white p-4 shadow-md dark:shadow-lg dark:border-b dark:border-gray-700">
                    <div className="container mx-auto flex flex-wrap justify-between items-center">
                        <h1 className="text-2xl font-bold text-green-400">HotLead Dashboard</h1>
                        <nav className="mt-4 md:mt-0">
                            <ul className="flex flex-wrap space-x-2 md:space-x-6 justify-center">
                                <li><a href="#" onClick={() => onNavigate('dashboard')} className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${currentPage === 'dashboard' ? 'bg-green-600 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white'}`}><i className="fas fa-chart-line mr-2"></i> Dashboard</a></li>
                                <li><a href="#" onClick={() => onNavigate('sales')} className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${currentPage === 'sales' ? 'bg-green-600 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white'}`}><i className="fas fa-dollar-sign mr-2"></i> Vendas</a></li>
                                <li><a href="#" onClick={() => onNavigate('bots')} className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${currentPage === 'bots' ? 'bg-green-600 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white'}`}><i className="fas fa-robot mr-2"></i> Bots</a></li>
                                <li><a href="#" onClick={() => onNavigate('integrations')} className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${currentPage === 'integrations' ? 'bg-green-600 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white'}`}><i className="fas fa-plug mr-2"></i> Integrações</a></li>
                                <li><a href="#" onClick={() => onNavigate('create-checkout')} className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${currentPage === 'create-checkout' ? 'bg-green-600 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white'}`}><i className="fas fa-plus-circle mr-2"></i> Criar Checkout</a></li>
                                <li><a href="#" onClick={() => onNavigate('campaigns')} className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${currentPage === 'campaigns' ? 'bg-green-600 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white'}`}><i className="fas fa-bullhorn mr-2"></i> Campanhas</a></li>
                                <li><a href="#" onClick={() => onNavigate('developer')} className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${currentPage === 'developer' ? 'bg-green-600 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white'}`}><i className="fas fa-code mr-2"></i> Desenvolvedor</a></li> {/* Novo link */}
                            </ul>
                        </nav>
                        <button
                            id="darkModeToggle"
                            onClick={handleToggleClick}
                            onAnimationEnd={handleAnimationEnd}
                            className={`ml-4 bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-full transition-colors duration-300 ${isSpinning ? 'spin-active' : ''}`}
                        >
                            <i className={`fas ${isDarkMode ? 'fa-sun' : 'fa-moon'}`}></i>
                        </button>
                    </div>
                </header>
            );
        }

        // --- Componente de Caixa de Mensagem (MessageBox) ---
        function MessageBox({ message, type, onClose }) {
            if (!message) return null;

            let bgColor = '';
            let textColor = '';
            let icon = '';

            switch (type) {
                case 'success':
                    bgColor = 'bg-green-500';
                    textColor = 'text-white';
                    icon = 'fas fa-check-circle';
                    break;
                case 'error':
                    bgColor = 'bg-red-500';
                    textColor = 'text-white';
                    icon = 'fas fa-times-circle';
                    break;
                case 'info':
                    bgColor = 'bg-blue-500';
                    textColor = 'text-white';
                    icon = 'fas fa-info-circle';
                    break;
                case 'warning':
                    bgColor = 'bg-yellow-500';
                    textColor = 'text-gray-900';
                    icon = 'fas fa-exclamation-triangle';
                    break;
                default:
                    bgColor = 'bg-gray-700';
                    textColor = 'text-white';
                    icon = 'fas fa-info-circle';
            }

            return (
                <div className={`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`}>
                    <div className={`${bgColor} ${textColor} p-6 rounded-lg shadow-xl max-w-sm w-full text-center relative`}>
                        <button
                            onClick={onClose}
                            className="absolute top-3 right-3 text-lg font-bold p-1 rounded-full hover:bg-opacity-80"
                        >
                            &times;
                        </button>
                        <div className="flex flex-col items-center">
                            <i className={`${icon} text-4xl mb-4`}></i>
                            <p className="text-lg font-semibold mb-4">{message}</p>
                        </div>
                    </div>
                </div>
            );
        }

        // --- NOVO COMPONENTE: LandingPage (Página de Aterrissagem) ---
        function LandingPage({ onNavigate }) {
            return (
                <div className="min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4">
                    {/* Hero Section */}
                    <section className="text-center py-16 px-4 max-w-4xl mx-auto">
                        <h1 className="text-5xl md:text-6xl font-extrabold text-green-400 mb-6 leading-tight animate-fade-in-down">
                            Transforme Seus Leads em Lucro com HotLead Dashboard
                        </h1>
                        <p className="text-xl md:text-2xl text-gray-300 mb-10 max-w-2xl mx-auto animate-fade-in">
                            Sua plataforma completa para gerenciar, automatizar e otimizar suas vendas e campanhas de marketing de forma inteligente.
                        </p>
                        <div className="flex flex-col sm:flex-row justify-center gap-6 animate-fade-in-up">
                            <button
                                onClick={() => onNavigate('signup')}
                                className="bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-xl group"
                            >
                                <i className="fas fa-rocket mr-3 group-hover:animate-bounce"></i> Comece Agora
                            </button>
                            <button
                                onClick={() => onNavigate('login')}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-xl group"
                            >
                                <i className="fas fa-sign-in-alt mr-3 group-hover:animate-pulse"></i> Já sou Cliente
                            </button>
                        </div>
                    </section>

                    {/* Features Section */}
                    <section className="bg-gray-800 w-full py-16 px-4 rounded-lg shadow-2xl mt-12">
                        <h2 className="text-4xl font-bold text-center text-blue-400 mb-12">O que você pode fazer com HotLead?</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 max-w-6xl mx-auto">
                            <div className="bg-gray-700 p-8 rounded-lg shadow-xl text-center border border-gray-600 hover:border-green-500 transition-all duration-300 transform hover:scale-105">
                                <i className="fas fa-dollar-sign text-5xl text-green-400 mb-4"></i>
                                <h3 className="text-2xl font-semibold text-white mb-3">Gestão de Vendas Simplificada</h3>
                                <p className="text-gray-300">Rastreie seus PIX gerados, pagamentos confirmados e faturamento total em tempo real.</p>
                            </div>
                            <div className="bg-gray-700 p-8 rounded-lg shadow-xl text-center border border-gray-600 hover:border-green-500 transition-all duration-300 transform hover:scale-105">
                                <i className="fas fa-robot text-5xl text-purple-400 mb-4"></i>
                                <h3 className="text-2xl font-semibold text-white mb-3">Bots Inteligentes e Automatizados</h3>
                                <p className="text-gray-300">Crie e gerencie bots para automatizar interações, qualificar leads e escalar seu atendimento.</p>
                            </div>
                            <div className="bg-gray-700 p-8 rounded-lg shadow-xl text-center border border-gray-600 hover:border-green-500 transition-all duration-300 transform hover:scale-105">
                                <i className="fas fa-bullhorn text-5xl text-orange-400 mb-4"></i>
                                <h3 className="text-2xl font-semibold text-white mb-3">Análise Detalhada de Campanhas</h3>
                                <p className="text-gray-300">Monitore o desempenho de suas campanhas e anúncios Meta (Facebook/Instagram Ads) com métricas claras.</p>
                            </div>
                            <div className="bg-gray-700 p-8 rounded-lg shadow-xl text-center border border-gray-600 hover:border-green-500 transition-all duration-300 transform hover:scale-105">
                                <i className="fas fa-plug text-5xl text-cyan-400 mb-4"></i>
                                <h3 className="text-2xl font-semibold text-white mb-3">Integrações Essenciais</h3>
                                <p className="text-gray-300">Conecte-se facilmente a plataformas de pagamento (Pushin Pay) e outras ferramentas de marketing.</p>
                            </div>
                            <div className="bg-gray-700 p-8 rounded-lg shadow-xl text-center border border-gray-600 hover:border-green-500 transition-all duration-300 transform hover:scale-105">
                                <i className="fas fa-shopping-cart text-5xl text-pink-400 mb-4"></i>
                                <h3 className="text-2xl font-semibold text-white mb-3">Criação de Checkouts Otimizados</h3>
                                <p className="text-gray-300">Desenvolva páginas de checkout de alta conversão para seus produtos e serviços.</p>
                            </div>
                            <div className="bg-gray-700 p-8 rounded-lg shadow-xl text-center border border-gray-600 hover:border-green-500 transition-all duration-300 transform hover:scale-105">
                                <i className="fas fa-chart-pie text-5xl text-yellow-400 mb-4"></i>
                                <h3 className="text-2xl font-semibold text-white mb-3">Relatórios e Insights Acionáveis</h3>
                                <p className="text-gray-300">Obtenha uma visão clara do seu ROI e tome decisões baseadas em dados para crescer.</p>
                            </div>
                        </div>
                    </section>

                    {/* Final Call to Action */}
                    <section className="text-center py-16 px-4 max-w-4xl mx-auto mt-12">
                        <h2 className="text-4xl md:text-5xl font-extrabold text-green-400 mb-6">
                            Pronto para Alavancar Suas Vendas?
                        </h2>
                        <p className="text-xl md:text-2xl text-gray-300 mb-10">
                            Junte-se a centenas de empreendedores que estão transformando seus negócios com HotLead Dashboard.
                        </p>
                        <div className="flex flex-col sm:flex-row justify-center gap-6">
                            <button
                                onClick={() => onNavigate('signup')}
                                className="bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-xl group"
                            >
                                <i className="fas fa-user-plus mr-3 group-hover:animate-pulse"></i> Criar Minha Conta Grátis
                            </button>
                            <button
                                onClick={() => onNavigate('login')}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-xl group"
                            >
                                <i className="fas fa-sign-in-alt mr-3 group-hover:animate-bounce"></i> Fazer Login
                            </button>
                        </div>
                    </section>
                </div>
            );
        }

        // --- NOVO COMPONENTE: LoginPage ---
        function LoginPage({ onLoginSuccess, onSignUpClick, showMessage }) {
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');

            const handleLogin = async (e) => {
                e.preventDefault();

                // TODO: Chamar endpoint de login do seu backend
                // Exemplo de como seria a chamada (adapte para seu backend):
                // const response = await fetch('/api/auth/login', {
                //     method: 'POST',
                //     headers: { 'Content-Type': 'application/json' },
                //     body: JSON.stringify({ email, password })
                // });
                // const data = await response.json();

                // if (response.ok) {
                //     localStorage.setItem('userToken', data.token); // Salva o token de autenticação
                //     onLoginSuccess(); // Notifica o App que o login foi bem-sucedido
                // } else {
                //     showMessage(data.message || 'Erro ao fazer login. Verifique suas credenciais.', 'error');
                // }

                // SIMULAÇÃO DE LOGIN BEM-SUCEDIDO (REMOVER EM PRODUÇÃO)
                if (email === 'teste@teste.com' && password === '123456') {
                    localStorage.setItem('userToken', 'mock_token_123'); // Simula token
                    showMessage('Login realizado com sucesso!', 'success');
                    onLoginSuccess();
                } else {
                    showMessage('Email ou senha inválidos (simulação).', 'error');
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center bg-gray-900 text-white p-4">
                    <div className="bg-gray-800 p-10 rounded-lg shadow-2xl text-center max-w-md w-full border border-green-500">
                        <h2 className="text-4xl font-extrabold text-green-400 mb-6">Login</h2>
                        <form onSubmit={handleLogin} className="space-y-6">
                            <div>
                                <label htmlFor="email" className="block text-gray-300 text-left text-sm font-bold mb-2">Email:</label>
                                <input
                                    type="email"
                                    id="email"
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                    className="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500"
                                    placeholder="seuemail@exemplo.com"
                                    required
                                />
                            </div>
                            <div>
                                <label htmlFor="password" className="block text-gray-300 text-left text-sm font-bold mb-2">Senha:</label>
                                <input
                                    type="password"
                                    id="password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    className="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500"
                                    placeholder="Sua senha"
                                    required
                                />
                            </div>
                            <button
                                type="submit"
                                className="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg"
                            >
                                <i className="fas fa-sign-in-alt mr-3"></i> Entrar
                            </button>
                        </form>
                        <p className="mt-6 text-gray-400">
                            Não tem uma conta?{' '}
                            <button onClick={onSignUpClick} className="text-blue-500 hover:underline font-semibold">
                                Cadastre-se
                            </button>
                        </p>
                    </div>
                </div>
            );
        }

        // --- NOVO COMPONENTE: SignUpPage ---
        function SignUpPage({ onSignUpSuccess, onLoginClick, showMessage }) {
            const [name, setName] = useState('');
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [confirmPassword, setConfirmPassword] = useState('');

            const handleSignUp = async (e) => {
                e.preventDefault();

                if (password !== confirmPassword) {
                    showMessage('As senhas não coincidem!', 'error');
                    return;
                }
                if (password.length < 6) { // Exemplo de validação
                    showMessage('A senha deve ter pelo menos 6 caracteres.', 'error');
                    return;
                }

                // TODO: Chamar endpoint de criar conta do seu backend
                // Exemplo de como seria a chamada (adapte para seu backend):
                // const response = await fetch('/api/auth/signup', {
                //     method: 'POST',
                //     headers: { 'Content-Type': 'application/json' },
                //     body: JSON.stringify({ name, email, password })
                // });
                // const data = await response.json();

                // if (response.ok) {
                //     showMessage('Conta criada com sucesso! Faça login.', 'success');
                //     onSignUpSuccess(); // Redireciona para a página de login
                // } else {
                //     showMessage(data.message || 'Erro ao criar conta. Tente novamente.', 'error');
                // }

                // SIMULAÇÃO DE CRIAÇÃO DE CONTA BEM-SUCEDIDA (REMOVER EM PRODUÇÃO)
                if (email.includes('@') && password === confirmPassword) {
                    showMessage('Conta criada com sucesso (simulação)! Agora faça login.', 'success');
                    onSignUpSuccess(); // Redireciona para login
                } else {
                    showMessage('Verifique os campos e tente novamente (simulação).', 'error');
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center bg-gray-900 text-white p-4">
                    <div className="bg-gray-800 p-10 rounded-lg shadow-2xl text-center max-w-md w-full border border-blue-500">
                        <h2 className="text-4xl font-extrabold text-blue-400 mb-6">Criar Conta</h2>
                        <form onSubmit={handleSignUp} className="space-y-6">
                            <div>
                                <label htmlFor="name" className="block text-gray-300 text-left text-sm font-bold mb-2">Nome Completo:</label>
                                <input
                                    type="text"
                                    id="name"
                                    value={name}
                                    onChange={(e) => setName(e.target.value)}
                                    className="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    placeholder="Seu nome"
                                    required
                                />
                            </div>
                            <div>
                                <label htmlFor="email" className="block text-gray-300 text-left text-sm font-bold mb-2">Email:</label>
                                <input
                                    type="email"
                                    id="email"
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                    className="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    placeholder="seuemail@exemplo.com"
                                    required
                                />
                            </div>
                            <div>
                                <label htmlFor="password" className="block text-gray-300 text-left text-sm font-bold mb-2">Senha:</label>
                                <input
                                    type="password"
                                    id="password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    className="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    placeholder="Mínimo 6 caracteres"
                                    required
                                />
                            </div>
                            <div>
                                <label htmlFor="confirmPassword" className="block text-gray-300 text-left text-sm font-bold mb-2">Confirmar Senha:</label>
                                <input
                                    type="password"
                                    id="confirmPassword"
                                    value={confirmPassword}
                                    onChange={(e) => setConfirmPassword(e.target.value)}
                                    className="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    placeholder="Confirme sua senha"
                                    required
                                />
                            </div>
                            <button
                                type="submit"
                                className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg"
                            >
                                <i className="fas fa-user-plus mr-3"></i> Criar Conta
                            </button>
                        </form>
                        <p className="mt-6 text-gray-400">
                            Já tem uma conta?{' '}
                            <button onClick={onLoginClick} className="text-green-500 hover:underline font-semibold">
                                Faça Login
                            </button>
                        </p>
                    </div>
                </div>
            );
        }

        // --- DASHBOARD Componente (1 - Atualizado com Gráfico) ---
        function Dashboard() {
            const [startDate, setStartDate] = useState('');
            const [endDate, setEndDate] = useState('');
            const [salesData, setSalesData] = useState([]);
            const [campaignsData, setCampaignsData] = useState([]);
            const [chartData, setChartData] = useState({ labels: [], datasets: [] });
            const chartRef = useRef(null);
            const chartInstance = useRef(null);


            const TOKEN = "EAAIyWkoZCTyQBPIZCw3jcdHSs3qmHVgHk0hOdxw6bzSpENbnRi2vAvHzIxMq89NEfcAxAmYMB6Ne4KqlCUg2cM9LZATk4zsKEgnIGZCdqKobJynkNp869tXKwmFxr03NVMjG7qavPuphYXuTbSBViU0dKf4Qgy9MfFIKkEhHvuGWmZBvqs9A1mb0rMZCVdv2NrQBqcYvFj4mSs3tl06f8t";
            const defaultAccountId = "507111372463621";

            const fetchMetrics = useCallback(async (start, end) => {
                // Simulate fetching sales data
                const filteredSales = MOCK_SALES_DATA.filter(sale => {
                    const saleDate = new Date(sale.data_geracao); // Usar data_geracao para filtro
                    const startObj = new Date(start + 'T00:00:00Z');
                    const endObj = new Date(end + 'T23:59:59Z');
                    return saleDate >= startObj && saleDate <= endObj;
                });
                setSalesData(filteredSales);

                // Re-use CampaignPage's fetch logic for spending (SIMULADO)
                // EM PRODUÇÃO: Este fetch seria para um endpoint do seu BACKEND,
                // que por sua vez, chamaria a API da Meta de forma SEGURA.
                try {
                    // Exemplo de como a chamada ao backend ficaria:
                    // const res = await fetch(`/api/meta-ads/insights/summary?accountId=${defaultAccountId}&startDate=${start}&endDate=${end}`, {
                    //     headers: { 'Authorization': `Bearer ${localStorage.getItem('userToken')}` }
                    // });
                    // const data = await res.json();
                    // if (data.error) throw new Error(`Erro ao buscar gastos: ${data.error.message}`);
                    // setCampaignsData(data.data || []);

                    // MANTENDO A SIMULAÇÃO PARA FINS DE DEMONSTRAÇÃO DO CLIENTE:
                    const urlInsights = new URL(`https://graph.facebook.com/v19.0/act_${defaultAccountId}/insights`);
                    urlInsights.searchParams.set("level", "account");
                    urlInsights.searchParams.set("fields", "spend");
                    urlInsights.searchParams.set("time_range", JSON.stringify({ since: start, until: end }));
                    urlInsights.searchParams.set("access_token", TOKEN);

                    const res = await fetch(urlInsights);
                    const data = await res.json();
                    if (data.error) throw new Error(`Erro ao buscar gastos: ${data.error.message}`);
                    setCampaignsData(data.data || []);
                } catch (e) {
                    console.error("Erro ao buscar gastos para o dashboard:", e);
                    setCampaignsData([]);
                }
            }, [TOKEN]);

            useEffect(() => {
                const today = new Date();
                const lastMonth = new Date(today);
                lastMonth.setDate(today.getDate() - 30);

                const defaultEndDate = today.toISOString().slice(0, 10);
                const defaultStartDate = lastMonth.toISOString().slice(0, 10);

                setStartDate(defaultStartDate);
                setEndDate(defaultEndDate);
                fetchMetrics(defaultStartDate, defaultEndDate);
            }, [fetchMetrics]);

            // Lógica para preparar dados para o gráfico
            useEffect(() => {
                if (salesData.length === 0 && campaignsData.length === 0) {
                    setChartData({ labels: [], datasets: [] });
                    return;
                }

                const datesMap = new Map();
                const start = new Date(startDate);
                const end = new Date(endDate);

                // Inicializa todas as datas no intervalo
                for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {
                    const dateKey = d.toISOString().slice(0, 10);
                    datesMap.set(dateKey, { sales: 0, spending: 0 });
                }

                // Agrega dados de vendas
                salesData.forEach(sale => {
                    const saleDateKey = new Date(sale.data_geracao).toISOString().slice(0, 10); // Usar data_geracao
                    if (datesMap.has(saleDateKey)) {
                        datesMap.get(saleDateKey).sales += sale.valor; // Usar valor
                    }
                });

                // Simula gastos diários com base no total de gastos
                const totalSpendingForPeriod = campaignsData.reduce((sum, insight) => sum + parseFloat(insight.spend || 0), 0);
                const daysInPeriod = Array.from(datesMap.keys()).length;
                let simulatedDailySpendingBase = daysInPeriod > 0 ? totalSpendingForPeriod / daysInPeriod : 0;

                // Para uma "saídas" mais dinâmica para o gráfico, distribua com alguma variação
                let currentSimulatedSpending = simulatedDailySpendingBase * 0.8;
                const spendingValues = Array.from(datesMap.keys()).map((dateKey, index) => {
                    const variance = (Math.random() - 0.5) * simulatedDailySpendingBase * 0.5;
                    currentSimulatedSpending += variance;
                    currentSimulatedSpending = Math.max(0, currentSimulatedSpending);
                    return currentSimulatedSpending;
                });

                // Ajusta o último valor para que a soma total dos gastos simulados seja igual ao totalSpendingForPeriod
                const currentTotalSimulatedSpending = spendingValues.reduce((sum, val) => sum + val, 0);
                if (daysInPeriod > 0) {
                    const adjustmentFactor = totalSpendingForPeriod / currentTotalSimulatedSpending;
                    for (let i = 0; i < spendingValues.length; i++) {
                        spendingValues[i] *= adjustmentFactor;
                    }
                }
                
                Array.from(datesMap.keys()).forEach((dateKey, index) => {
                    datesMap.get(dateKey).spending = spendingValues[index];
                });

                const labels = Array.from(datesMap.keys()).map(dateKey => {
                    const [year, month, day] = dateKey.split('-');
                    return `${day}/${month}`;
                });

                const salesValues = Array.from(datesMap.values()).map(data => data.sales);
                const spendingGraphValues = Array.from(datesMap.values()).map(data => data.spending);
                const averageValues = Array.from(datesMap.values()).map(data => (data.sales + data.spending) / 2);

                setChartData({
                    labels: labels,
                    datasets: [
                        {
                            label: 'Entradas (Vendas)',
                            data: salesValues,
                            borderColor: 'rgb(75, 192, 192)',
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            tension: 0.3,
                            fill: false,
                        },
                        {
                            label: 'Saídas (Gastos Simulados)',
                            data: spendingGraphValues,
                            borderColor: 'rgb(255, 99, 132)',
                            backgroundColor: 'rgba(255, 99, 132, 0.2)',
                            tension: 0.3,
                            fill: false,
                        },
                        {
                            label: 'Média (Entradas + Saídas / 2)',
                            data: averageValues,
                            borderColor: 'rgb(153, 102, 255)',
                            backgroundColor: 'rgba(153, 102, 255, 0.2)',
                            tension: 0.3,
                            fill: false,
                            borderDash: [5, 5],
                        },
                    ],
                });
            }, [salesData, campaignsData, startDate, endDate]);

            // Efeito para renderizar/atualizar o gráfico Chart.js
            useEffect(() => {
                if (chartRef.current && chartData.labels.length > 0) {
                    if (chartInstance.current) {
                        chartInstance.current.destroy(); // Destrói a instância anterior se existir
                    }
                    const ctx = chartRef.current.getContext('2d');
                    chartInstance.current = new Chart(ctx, {
                        type: 'line',
                        data: chartData,
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    labels: {
                                        color: '#e0e0e0',
                                    }
                                },
                                title: {
                                    display: true,
                                    text: 'Desempenho Diário (Entradas, Saídas, Média)',
                                    color: '#e0e0e0',
                                }
                            },
                            scales: {
                                x: {
                                    ticks: {
                                        color: '#e0e0e0',
                                    },
                                    grid: {
                                        color: 'rgba(128, 128, 128, 0.3)',
                                    }
                                },
                                y: {
                                    ticks: {
                                        color: '#e0e0e0',
                                        callback: function(value) {
                                            return formatCurrency(value);
                                        }
                                    },
                                    grid: {
                                        color: 'rgba(128, 128, 128, 0.3)',
                                    }
                                }
                            }
                        }
                    });
                } else if (chartInstance.current && chartData.labels.length === 0) {
                    // Destrói o gráfico se não houver dados
                    chartInstance.current.destroy();
                    chartInstance.current = null;
                }

                // Cleanup na desmontagem do componente
                return () => {
                    if (chartInstance.current) {
                        chartInstance.current.destroy();
                        chartInstance.current = null;
                    }
                };
            }, [chartData]);


            const totalSales = salesData.reduce((sum, sale) => sum + sale.valor, 0); // Usar sale.valor
            const totalSpending = campaignsData.reduce((sum, insight) => sum + parseFloat(insight.spend || 0), 0);
            const totalProfit = totalSales - totalSpending;

            // Group sales and spending by bot for per-bot metrics
            const botsMetrics = MOCK_BOTS_DATA_INITIAL.map(bot => { // Use MOCK_BOTS_DATA_INITIAL for dashboard
                const botSales = MOCK_SALES_DATA.filter(sale => sale.modelo === bot.id); // Usar sale.modelo
                const botRevenue = botSales.reduce((sum, sale) => sum + sale.valor, 0); // Usar sale.valor
                
                // Calculate spending based on linked campaigns (adsets)
                const simulatedBotSpending = MOCK_ADSETS_DATA.filter(adset =>
                    bot.linkedCampaigns && bot.linkedCampaigns.includes(adset.id)
                ).reduce((sum, adset) => sum + adset.spend, 0);

                const botProfit = botRevenue - simulatedBotSpending;
                return { ...bot, revenue: botRevenue, spending: simulatedBotSpending, profit: botProfit };
            });

            return (
                <div className="bg-gray-700 dark:bg-gray-800 p-8 rounded-lg shadow-xl text-gray-100 mb-8">
                    <h2 className="text-3xl font-extrabold text-green-400 mb-6 text-center">Dashboard Principal</h2>

                    {/* Filters for Dashboard */}
                    <div className="flex flex-wrap items-center justify-center gap-6 mb-8 p-4 bg-gray-700 rounded-md">
                        <div className="flex flex-col">
                            <label htmlFor="dashboardStartDate" className="text-gray-300 text-sm font-medium mb-1">Data Início:</label>
                            <input
                                type="date"
                                id="dashboardStartDate"
                                value={startDate}
                                onChange={(e) => setStartDate(e.target.value)}
                                className="bg-gray-600 border border-gray-500 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            />
                        </div>
                        <div className="flex flex-col">
                            <label htmlFor="dashboardEndDate" className="text-gray-300 text-sm font-medium mb-1">Data Fim:</label>
                            <input
                                type="date"
                                id="dashboardEndDate"
                                value={endDate}
                                onChange={(e) => setEndDate(e.target.value)}
                                className="bg-gray-600 border border-gray-500 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            />
                        </div>
                        <button
                            onClick={() => fetchMetrics(startDate, endDate)}
                            className="bg-green-500 hover:bg-green-600 text-gray-900 font-bold py-2.5 px-6 rounded-md shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center group"
                        >
                            <i className="fas fa-sync-alt mr-2 rotate-on-hover"></i>
                            Atualizar
                        </button>
                    </div>

                    {/* Summary Cards */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div className="bg-gray-600 dark:bg-gray-700 p-5 rounded-md shadow-lg flex flex-col items-center justify-center text-center">
                            <i className="fas fa-dollar-sign text-5xl text-blue-400 mb-3"></i>
                            <h3 className="text-xl font-bold mb-2">Vendas Totais</h3>
                            <p className="text-gray-300 text-2xl font-semibold">{formatCurrency(totalSales)}</p>
                        </div>
                        <div className="bg-gray-600 dark:bg-gray-700 p-5 rounded-md shadow-lg flex flex-col items-center justify-center text-center">
                            <i className="fas fa-hand-holding-usd text-5xl text-red-400 mb-3"></i>
                            <h3 className="text-xl font-bold mb-2">Gastos Totais</h3>
                            <p className="text-gray-300 text-2xl font-semibold">{formatCurrency(totalSpending)}</p>
                        </div>
                        <div className="bg-gray-600 dark:bg-gray-700 p-5 rounded-md shadow-lg flex flex-col items-center justify-center text-center">
                            <i className="fas fa-coins text-5xl text-green-400 mb-3"></i>
                            <h3 className="text-xl font-bold mb-2">Lucro Total</h3>
                            <p className="text-gray-300 text-2xl font-semibold">{formatCurrency(totalProfit)}</p>
                        </div>
                    </div>

                    {/* Dashboard Chart */}
                    <div className="bg-gray-600 dark:bg-gray-700 p-5 rounded-md shadow-lg mb-8">
                        <h3 className="text-2xl font-bold text-blue-300 mb-4 text-center">Desempenho Diário</h3>
                        <div className="h-80">
                            <canvas ref={chartRef} id="dailyPerformanceChart"></canvas>
                        </div>
                    </div>

                    {/* Bots Ativos Section */}
                    <h3 className="text-2xl font-bold text-blue-300 mb-4">Bots Ativos e Métricas</h3>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {botsMetrics.map(bot => (
                            <div key={bot.id} className="bg-gray-600 dark:bg-gray-700 p-5 rounded-md shadow-lg border border-gray-500">
                                <h4 className="text-xl font-semibold mb-2 text-white">{bot.name} ({bot.status === 'ativo' ? 'Ativo' : 'Inativo'})</h4>
                                <div className="grid grid-cols-2 gap-y-2 text-gray-300">
                                    <p><strong>Faturamento:</strong> <span className="text-green-300">{formatCurrency(bot.revenue)}</span></p>
                                    <p><strong>Gastos:</strong> <span className="text-red-300">{formatCurrency(bot.spending)}</span></p>
                                    <p><strong>Lucro:</strong> <span className={`${bot.profit >= 0 ? 'text-green-400' : 'text-red-400'} font-bold`}>{formatCurrency(bot.profit)}</span></p>
                                    <p><strong>Vendas:</strong> <span className="text-blue-300">{MOCK_SALES_DATA.filter(s => s.modelo === bot.id).length}</span></p>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // --- VENDAS Componente (2 - Atualizado para o formato da planilha) ---
        function SalesPage() {
            const [startDate, setStartDate] = useState('');
            const [endDate, setEndDate] = useState('');
            const [filteredSales, setFilteredSales] = useState([]);
            const [selectedBot, setSelectedBot] = useState('all'); // 'all' or botId (now 'modelo')

            useEffect(() => {
                const today = new Date();
                const lastMonth = new Date(today);
                lastMonth.setDate(today.getDate() - 30);

                const defaultEndDate = today.toISOString().slice(0, 10);
                const defaultStartDate = lastMonth.toISOString().slice(0, 10);

                setStartDate(defaultStartDate);
                setEndDate(defaultEndDate);
                applyFilters(defaultStartDate, defaultEndDate, 'all');
            }, []);

            const applyFilters = (start, end, bot) => {
                const startObj = new Date(start + 'T00:00:00Z');
                const endObj = new Date(end + 'T23:59:59Z');

                const results = MOCK_SALES_DATA.filter(sale => {
                    const saleDate = new Date(sale.data_geracao); // Filtrar pela data de geração
                    const isInDateRange = saleDate >= startObj && saleDate <= endObj;
                    const matchesBot = bot === 'all' || sale.modelo === bot; // Usar sale.modelo
                    return isInDateRange && matchesBot;
                });
                setFilteredSales(results.sort((a,b) => new Date(b.data_geracao) - new Date(a.data_geracao))); // Ordenar pela data de geração
            };

            const handleFilterChange = () => {
                applyFilters(startDate, endDate, selectedBot);
            };

            const totalPixGenerated = filteredSales.filter(s => s.status === 'AGUARDANDO_PAGAMENTO').length;
            const totalPixPaid = filteredSales.filter(s => s.status === 'PAGO').length;
            const totalAmountPaid = filteredSales.filter(s => s.status === 'PAGO').reduce((sum, s) => sum + s.valor, 0); // Usar s.valor

            return (
                <div className="bg-gray-700 dark:bg-gray-800 p-8 rounded-lg shadow-xl text-gray-100 mb-8">
                    <h2 className="text-3xl font-extrabold text-green-400 mb-6 text-center">Relatório de Vendas</h2>

                    {/* Filters */}
                    <div className="flex flex-wrap items-center justify-center gap-6 mb-8 p-4 bg-gray-700 rounded-md">
                        <div className="flex flex-col">
                            <label htmlFor="salesStartDate" className="text-gray-300 text-sm font-medium mb-1">Data Início:</label>
                            <input
                                type="date"
                                id="salesStartDate"
                                value={startDate}
                                onChange={(e) => setStartDate(e.target.value)}
                                className="bg-gray-600 border border-gray-500 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            />
                        </div>
                        <div className="flex flex-col">
                            <label htmlFor="salesEndDate" className="text-gray-300 text-sm font-medium mb-1">Data Fim:</label>
                            <input
                                type="date"
                                id="salesEndDate"
                                value={endDate}
                                onChange={(e) => setEndDate(e.target.value)}
                                className="bg-gray-600 border border-gray-500 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            />
                        </div>
                        <div className="flex flex-col">
                            <label htmlFor="botSelect" className="text-gray-300 text-sm font-medium mb-1">Filtrar por Modelo:</label>
                            <select
                                id="botSelect"
                                value={selectedBot}
                                onChange={(e) => setSelectedBot(e.target.value)}
                                className="bg-gray-600 border border-gray-500 text-white py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            >
                                <option value="all">Todos os Modelos</option>
                                {MOCK_BOTS_DATA_INITIAL.map(bot => (
                                    <option key={bot.id} value={bot.id}>{bot.name}</option>
                                ))}
                            </select>
                        </div>
                        <button
                            onClick={handleFilterChange}
                            className="bg-green-500 hover:bg-green-600 text-gray-900 font-bold py-2.5 px-6 rounded-md shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center group"
                        >
                            <i className="fas fa-filter mr-2 rotate-on-hover"></i>
                            Aplicar Filtros
                        </button>
                    </div>

                    {/* Sales Summary */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 text-center">
                        <div className="bg-gray-600 dark:bg-gray-700 p-5 rounded-md shadow-lg">
                            <h3 className="text-xl font-bold mb-2 text-blue-300">PIX Gerados</h3>
                            <p className="text-white text-3xl font-semibold">{totalPixGenerated}</p>
                        </div>
                        <div className="bg-gray-600 dark:bg-gray-700 p-5 rounded-md shadow-lg">
                            <h3 className="text-xl font-bold mb-2 text-green-300">PIX Pagos</h3>
                            <p className="text-white text-3xl font-semibold">{totalPixPaid}</p>
                        </div>
                        <div className="bg-gray-600 dark:bg-gray-700 p-5 rounded-md shadow-lg">
                            <h3 className="text-xl font-bold mb-2 text-purple-300">Valor Total Pago</h3>
                            <p className="text-white text-3xl font-semibold">{formatCurrency(totalAmountPaid)}</p>
                        </div>
                    </div>

                    {/* Sales List */}
                    <h3 className="text-2xl font-bold text-blue-300 mb-4">Detalhes das Vendas ({filteredSales.length} resultados)</h3>
                    <div className="table-container bg-gray-600 dark:bg-gray-700 rounded-lg shadow-md overflow-hidden">
                        {filteredSales.length === 0 ? (
                            <p className="p-4 text-center text-gray-300">Nenhuma venda encontrada para os filtros selecionados.</p>
                        ) : (
                            <table className="custom-table">
                                <thead>
                                    <tr>
                                        <th>Modelo</th>
                                        <th>Campanha</th>
                                        <th>Código PIX</th>
                                        <th>Valor</th>
                                        <th>Data Geração</th>
                                        <th>Data Pagamento</th>
                                        <th>Status</th>
                                        <th>Meta Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {filteredSales.map(sale => (
                                        <tr key={sale.codigo_pix}>
                                            <td className="truncate-text max-w-[80px]">{sale.modelo}</td>
                                            <td className="truncate-text max-w-[150px]">{sale.campanha}</td>
                                            <td className="truncate-text max-w-[120px]">{sale.codigo_pix}</td>
                                            <td>{formatCurrency(sale.valor)}</td>
                                            <td>{sale.data_pagamento ? formatDate(sale.data_pagamento) : '-'}</td>
                                            <td>
                                                <span className={`px-2 py-1 rounded-full text-xs font-semibold ${sale.status === 'PAGO' ? 'bg-green-500 text-gray-900' : 'bg-orange-500 text-gray-900'}`}>
                                                    {sale.status}
                                                </span>
                                            </td>
                                            <td>{sale.meta_status || '-'}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        )}
                    </div>
                </div>
            );
        }

        // --- Componente Modal de Configuração do Bot ---
        function BotConfigurationModal({ bot, allAdAccounts, allAdSets, onClose, onSaveConfig, showMessage }) {
            const [localBot, setLocalBot] = useState(bot);
            const [loadingStatus, setLoadingStatus] = useState(false);
            const [selectedAdAccountId, setSelectedAdAccountId] = useState(bot.adAccountId || '');

            useEffect(() => {
                setLocalBot(bot); // Atualiza o estado local se o bot prop mudar
                setSelectedAdAccountId(bot.adAccountId || '');
            }, [bot]);

            const handleCampaignToggle = (adSetId) => {
                setLocalBot(prevBot => {
                    const updatedCampaigns = prevBot.linkedCampaigns.includes(adSetId)
                        ? prevBot.linkedCampaigns.filter(id => id !== adSetId)
                        : [...prevBot.linkedCampaigns, adSetId];
                    return { ...prevBot, linkedCampaigns: updatedCampaigns };
                });
            };

            const handleSave = () => {
                onSaveConfig(localBot);
                onClose();
            };

            // Função para consultar o status e nome de um bot via API do Telegram
            const checkBotStatusAndName = async (token) => {
                if (!token) {
                    return { success: false, message: 'Token do bot é obrigatório.' };
                }
                const telegramApiUrl = `https://api.telegram.org/bot${token}/getMe`;
                try {
                    const response = await fetch(telegramApiUrl);
                    const data = await response.json();

                    if (data.ok && data.result) {
                        return {
                            success: true,
                            name: data.result.first_name || 'Nome não definido',
                            status: 'ativo',
                            message: `Bot "${data.result.first_name || 'Nome não definido'}" está ativo.`,
                        };
                    } else {
                        return {
                            success: false,
                            name: 'Desconhecido', // Se não for ok, o nome é desconhecido
                            status: 'inativo',
                            message: `Bot inativo ou Erro: ${data.description || 'Desconhecido'}`,
                        };
                    }
                } catch (error) {
                    console.error('Erro ao consultar API do Telegram:', error);
                    return {
                        success: false,
                        name: 'Desconhecido',
                        status: 'inativo',
                        message: `Erro de conexão com a API do Telegram.`,
                    };
                }
            };

            const handleConsultStatus = async () => {
                setLoadingStatus(true);
                const result = await checkBotStatusAndName(localBot.token);
                setLoadingStatus(false);

                if (result.success) {
                    setLocalBot(prevBot => ({ ...prevBot, name: result.name, status: result.status }));
                    showMessage(`Status do bot "${result.name}" atualizado: ${result.status}!`, 'success');
                } else {
                    setLocalBot(prevBot => ({ ...prevBot, status: result.status }));
                    showMessage(`Erro ao consultar status: ${result.message}`, 'error');
                }
            };

            // Filter ad sets based on selectedAdAccountId
            const filteredAdSets = allAdSets.filter(adset => adset.account_id === selectedAdAccountId);

            return (
                <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4">
                    <div className="bg-gray-800 p-8 rounded-lg shadow-2xl max-w-2xl w-full text-gray-100 relative">
                        <button
                            onClick={onClose}
                            className="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl"
                        >
                            &times;
                        </button>
                        <h2 className="text-3xl font-bold text-green-400 mb-6 text-center">Configurar Bot: {localBot.name}</h2>

                        {/* Bot Details */}
                        <div className="mb-6 p-4 bg-gray-700 rounded-md">
                            <h3 className="text-xl font-semibold text-blue-300 mb-3">Detalhes do Bot</h3>
                            <p className="mb-2"><strong>ID:</strong> {localBot.id}</p>
                            <p className="mb-2"><strong>Nome:</strong> {localBot.name}</p>
                            <p className="mb-2"><strong>Token:</strong> <span className="font-mono text-sm break-all">{localBot.token}</span></p>
                            <p className="mb-4">
                                <strong>Status:</strong>{' '}
                                <span className={`px-2 py-1 rounded-full text-sm font-semibold ${localBot.status === 'ativo' ? 'bg-green-500 text-gray-900' : 'bg-red-500 text-white'}`}>
                                    {localBot.status === 'ativo' ? 'Ativo' : 'Inativo'}
                                </span>
                            </p>
                            <button
                                onClick={handleConsultStatus}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition-all duration-300 flex items-center justify-center"
                                disabled={loadingStatus}
                            >
                                {loadingStatus ? (
                                    <i className="fas fa-spinner fa-spin mr-2"></i>
                                ) : (
                                    <i className="fas fa-sync-alt mr-2"></i>
                                )}
                                {loadingStatus ? 'Consultando...' : 'Consultar Status Agora'}
                            </button>
                             <p className="text-yellow-400 text-xs mt-3">
                                <i className="fas fa-exclamation-triangle mr-1"></i> A consulta direta à API do Telegram no navegador expõe seu token.
                            </p>
                        </div>

                        {/* Select Ad Account */}
                        <div className="mb-6 p-4 bg-gray-700 rounded-md">
                            <h3 className="text-xl font-semibold text-blue-300 mb-3">Vincular Conta de Anúncios</h3>
                            <select
                                value={selectedAdAccountId}
                                onChange={(e) => {
                                    setSelectedAdAccountId(e.target.value);
                                    // Clear linked campaigns if account changes, as they might not be relevant anymore
                                    setLocalBot(prevBot => ({ ...prevBot, linkedCampaigns: [], adAccountId: e.target.value }));
                                }}
                                className="w-full bg-gray-600 border border-gray-500 text-white py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            >
                                <option value="">Selecione uma Conta de Anúncios</option>
                                {allAdAccounts.map(account => (
                                    <option key={account.id} value={account.id}>{account.name}</option>
                                ))}
                            </select>
                            {!selectedAdAccountId && <p className="text-red-400 text-sm mt-2">Por favor, selecione uma conta de anúncios para vincular campanhas.</p>}
                        </div>


                        {/* Link Campaigns (Ad Sets) */}
                        <div className="mb-6 p-4 bg-gray-700 rounded-md">
                            <h3 className="text-xl font-semibold text-blue-300 mb-3">Vincular Campanhas (Ad Sets)</h3>
                            {selectedAdAccountId ? (
                                filteredAdSets.length > 0 ? (
                                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-60 overflow-y-auto pr-2">
                                        {filteredAdSets.map(adSet => (
                                            <label key={adSet.id} className="flex items-center text-gray-300 cursor-pointer">
                                                <input
                                                    type="checkbox"
                                                    checked={localBot.linkedCampaigns.includes(adSet.id)}
                                                    onChange={() => handleCampaignToggle(adSet.id)}
                                                    className="form-checkbox h-5 w-5 text-green-600 rounded border-gray-500 focus:ring-green-500 bg-gray-600"
                                                />
                                                <span className="ml-2 text-base">{adSet.name}</span>
                                            </label>
                                        ))}
                                    </div>
                                ) : (
                                    <p className="text-gray-400">Nenhum conjunto de anúncios encontrado para a conta selecionada.</p>
                                )
                            ) : (
                                <p className="text-gray-400">Selecione uma conta de anúncios acima para ver as campanhas disponíveis.</p>
                            )}
                            <p className="text-gray-400 text-sm mt-3">
                                Os conjuntos de anúncios vinculados serão usados para calcular os gastos específicos deste bot.
                            </p>
                        </div>

                        {/* Action Buttons */}
                        <div className="flex justify-end gap-4 mt-6">
                            <button
                                onClick={onClose}
                                className="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-md shadow-md transition-all duration-300"
                            >
                                Cancelar
                            </button>
                            <button
                                onClick={handleSave}
                                className="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-md shadow-md transition-all duration-300"
                            >
                                Salvar Configurações
                            </button>
                        </div>
                    </div>
                </div>
            );
        }


        // --- BOTS Componente (3) ---
        function BotsPage({ showMessage }) {
            const [bots, setBots] = useState(MOCK_BOTS_DATA_INITIAL);
            const [newBotToken, setNewBotToken] = useState('');
            const [loadingBotId, setLoadingBotId] = useState(null); // Para indicar qual bot está sendo consultado
            const [selectedBot, setSelectedBot] = useState(null); // Bot selecionado para configuração
            const [isConfigModalOpen, setIsConfigModalOpen] = useState(false);

            // Função para consultar o status e nome de um bot via API do Telegram
            const checkBotStatusAndName = async (token) => {
                if (!token) {
                    return { success: false, message: 'Token do bot é obrigatório.' };
                }
                const telegramApiUrl = `https://api.telegram.org/bot${token}/getMe`;
                try {
                    const response = await fetch(telegramApiUrl);
                    const data = await response.json();

                    if (data.ok && data.result) {
                        return {
                            success: true,
                            name: data.result.first_name || 'Nome não definido',
                            status: 'ativo',
                            message: `Bot "${data.result.first_name || 'Nome não definido'}" está ativo.`,
                        };
                    } else {
                        return {
                            success: false,
                            name: 'Desconhecido', // Se não for ok, o nome é desconhecido
                            status: 'inativo',
                            message: `Bot inativo ou token inválido: ${data.description || 'Erro desconhecido.'}`,
                        };
                    }
                } catch (error) {
                    console.error('Erro ao consultar API do Telegram:', error);
                    return {
                        success: false,
                        name: 'Desconhecido',
                        status: 'inativo',
                        message: `Erro de conexão com a API do Telegram.`,
                    };
                }
            };

            // Recalcula métricas dos bots sempre que houver mudança nos dados simulados
            const botsWithMetrics = bots.map(bot => {
                const botSales = MOCK_SALES_DATA.filter(sale => sale.modelo === bot.id); // Usar sale.modelo
                const botRevenue = botSales.reduce((sum, sale) => sum + sale.valor, 0); // Usar sale.valor

                // Calcula gastos com base nas campanhas vinculadas
                const simulatedBotSpending = MOCK_ADSETS_DATA.filter(adset =>
                    bot.linkedCampaigns && bot.linkedCampaigns.includes(adset.id)
                ).reduce((sum, adset) => sum + adset.spend, 0);

                const botProfit = botRevenue - simulatedBotSpending;
                return { ...bot, revenue: botRevenue, spending: simulatedBotSpending, profit: botProfit };
            });

            const handleAddBot = async (e) => {
                e.preventDefault();
                if (newBotToken.trim() === '') {
                    showMessage('Token do bot é obrigatório!', 'error');
                    return;
                }

                setLoadingBotId('new'); // Indica que estamos carregando para o novo bot
                const result = await checkBotStatusAndName(newBotToken.trim());
                setLoadingBotId(null);

                if (result.success) {
                    const newBot = {
                        id: result.name, // Usar o nome do bot como ID para simplificar (em produção, seria um ID único)
                        name: result.name,
                        status: result.status,
                        token: newBotToken.trim(),
                        linkedCampaigns: [], // Novos bots começam sem campanhas vinculadas
                        adAccountId: '' // Novo bot começa sem conta de anúncio vinculada
                    };
                    setBots(prevBots => [...prevBots, newBot]); // Add to local state (not persistent for mock)
                    setNewBotToken('');
                    showMessage(`Bot "${result.name}" adicionado com sucesso e está ${result.status}!`, 'success');
                } else {
                    showMessage(`Erro ao adicionar bot: ${result.message}`, 'error');
                }
            };

            const handleOpenConfigModal = (bot) => {
                setSelectedBot(bot);
                setIsConfigModalOpen(true);
            };

            const handleCloseConfigModal = () => {
                setSelectedBot(null);
                setIsConfigModalOpen(false);
            };

            const handleSaveBotConfig = (updatedBot) => {
                setBots(prevBots =>
                    prevBots.map(bot =>
                        bot.id === updatedBot.id ? updatedBot : bot
                    )
                );
                showMessage(`Configurações do bot "${updatedBot.name}" salvas com sucesso!`, 'success');
            };

            return (
                <div className="bg-gray-700 dark:bg-gray-800 p-8 rounded-lg shadow-xl text-gray-100 mb-8">
                    <h2 className="text-3xl font-extrabold text-green-400 mb-6 text-center">Gestão de Bots</h2>

                    {/* Aviso de Segurança */}
                    <div className="bg-yellow-700 text-yellow-100 p-4 rounded-md mb-6 text-center shadow-md">
                        <i className="fas fa-exclamation-triangle mr-2"></i>
                        <strong>Aviso de Segurança:</strong> A consulta direta à API do Telegram no navegador expõe seu token. Em um ambiente de produção, esta operação deve ser feita através de um servidor backend seguro.
                    </div>

                    {/* Add New Bot Form */}
                    <div className="mb-8 p-6 bg-gray-600 dark:bg-gray-700 rounded-md shadow-inner">
                        <h3 className="text-xl font-bold text-blue-300 mb-4">Adicionar Novo Bot (via Token Telegram)</h3>
                        <form onSubmit={handleAddBot} className="flex flex-col md:flex-row gap-4 items-end">
                            <div className="flex-grow flex flex-col">
                                <label htmlFor="newBotToken" className="text-gray-300 text-sm font-medium mb-1">Token do Bot Telegram:</label>
                                <input
                                    type="text"
                                    id="newBotToken"
                                    placeholder="Ex: 123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
                                    value={newBotToken}
                                    onChange={(e) => setNewBotToken(e.target.value)}
                                    className="flex-grow bg-gray-500 border border-gray-400 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                    required
                                />
                            </div>
                            <button
                                type="submit"
                                className="bg-green-500 hover:bg-green-600 text-gray-900 font-bold py-2 px-6 rounded-md shadow-md transition-all duration-300 transform hover:scale-105 flex items-center justify-center"
                                disabled={loadingBotId === 'new'}
                            >
                                {loadingBotId === 'new' ? (
                                    <i className="fas fa-spinner fa-spin mr-2"></i>
                                ) : (
                                    <i className="fas fa-plus mr-2"></i>
                                )}
                                {loadingBotId === 'new' ? 'Adicionando...' : 'Adicionar Bot'}
                            </button>
                        </form>
                    </div>

                    {/* Bots List */}
                    <h3 className="text-2xl font-bold text-blue-300 mb-4">Bots Ativos e Inativos ({bots.length})</h3>
                    <div className="table-container bg-gray-600 dark:bg-gray-700 rounded-lg shadow-md overflow-hidden">
                        <table className="custom-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>ID</th>
                                    <th>Status</th>
                                    <th>Faturamento</th>
                                    <th>Gastos</th>
                                    <th>Lucro</th>
                                    <th>Campanhas Vinculadas</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                {botsWithMetrics.map(bot => (
                                    <tr key={bot.id} className="cursor-pointer hover:bg-gray-700" onClick={() => handleOpenConfigModal(bot)}>
                                        <td className="truncate-text max-w-[180px]">{bot.name}</td>
                                        <td className="truncate-text max-w-[120px]">{bot.id}</td>
                                        <td>
                                            <span className={`px-2 py-1 rounded-full text-xs font-semibold ${bot.status === 'ativo' ? 'bg-green-500 text-gray-900' : 'bg-red-500 text-white'}`}>
                                                {bot.status === 'ativo' ? 'Ativo' : 'Inativo'}
                                            </span>
                                        </td>
                                        <td>{formatCurrency(bot.revenue)}</td>
                                        <td>{formatCurrency(bot.spending)}</td>
                                        <td><span className={`${bot.profit >= 0 ? 'text-green-400' : 'text-red-400'} font-bold`}>{formatCurrency(bot.profit)}</span></td>
                                        <td>
                                            {bot.linkedCampaigns && bot.linkedCampaigns.length > 0 ? (
                                                <ul className="list-disc list-inside text-sm text-gray-300">
                                                    {bot.linkedCampaigns.map(campaignId => {
                                                        const campaign = MOCK_ADSETS_DATA.find(c => c.id === campaignId);
                                                        return <li key={campaignId} className="truncate-text max-w-[150px]">{campaign ? campaign.name : campaignId}</li>;
                                                    })}
                                                </ul>
                                            ) : (
                                                <span className="text-gray-400 text-sm italic">Nenhuma</span>
                                            )}
                                        </td>
                                        <td>
                                            <button
                                                onClick={(e) => { e.stopPropagation(); handleOpenConfigModal(bot); }}
                                                className="bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded-md text-sm transition-all duration-300 transform hover:scale-105 flex items-center justify-center"
                                            >
                                                <i className="fas fa-cog mr-1"></i> Configurar
                                            </button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>

                    {isConfigModalOpen && selectedBot && (
                        <BotConfigurationModal
                            bot={selectedBot}
                            allAdAccounts={MOCK_AD_ACCOUNTS}
                            allAdSets={MOCK_ADSETS_DATA}
                            onClose={handleCloseConfigModal}
                            onSaveConfig={handleSaveBotConfig}
                            showMessage={showMessage}
                        />
                    )}
                </div>
            );
        }

        // --- INTEGRAÇÕES Componente (5) ---
        function IntegrationsPage({ showMessage }) {
            const [pixelId, setPixelId] = useState('');
            const [adsAccountConnected, setAdsAccountConnected] = useState(false); // Simulate connection status
            const [pushinPayToken, setPushinPayToken] = useState(''); // Estado para o token da Pushin Pay

            const handleSavePixel = (e) => {
                e.preventDefault();
                showMessage(`Pixel ID ${pixelId} salvo (apenas UI)! Em um sistema real, isso seria enviado para o backend.`, 'info');
                // Here you would typically send pixelId to your backend
            };

            const handleConnectAdsAccount = () => {
                // IMPORTANT: This is a UI placeholder.
                // Connecting a Meta Ads account securely involves OAuth 2.0 (e.g., Facebook Login for Business)
                // where the user grants permissions and you receive an access token on your backend.
                // It CANNOT be done purely in frontend HTML/JS dueato security implications and complexity.
                showMessage('Iniciando conexão da Conta de Anúncios Meta Ads (simulação). Isso exigiria um fluxo OAuth completo com um backend.', 'warning');
                setAdsAccountConnected(true); // Simulate success for UI
            };

            const handleSavePushinPayToken = (e) => {
                e.preventDefault();
                if (pushinPayToken.trim() === '') {
                    showMessage('O token da Pushin Pay é obrigatório!', 'error');
                    return;
                }
                showMessage(`Token da Pushin Pay salvo (apenas UI)! Em um sistema real, isso seria enviado para o backend para processar pagamentos.`, 'success');
                // Aqui você enviaria o pushinPayToken para o seu backend
            };

            return (
                <div className="bg-gray-700 dark:bg-gray-800 p-8 rounded-lg shadow-xl text-gray-100 mb-8">
                    <h2 className="text-3xl font-extrabold text-green-400 mb-6 text-center">Integrações de Marketing e Pagamento</h2>

                    {/* Meta Pixel Setup */}
                    <div className="mb-8 p-6 bg-gray-600 dark:bg-gray-700 rounded-md shadow-inner">
                        <h3 className="text-xl font-bold text-blue-300 mb-4 flex items-center"><i className="fab fa-facebook-f mr-3 text-2xl"></i> Configuração do Pixel Meta</h3>
                        <form onSubmit={handleSavePixel} className="flex flex-col md:flex-row gap-4 items-end">
                            <div className="flex-grow flex flex-col">
                                <label htmlFor="pixelId" className="text-gray-300 text-sm font-medium mb-1">ID do Pixel Meta:</label>
                                <input
                                    type="text"
                                    id="pixelId"
                                    placeholder="Ex: 1234567890"
                                    value={pixelId}
                                    onChange={(e) => setPixelId(e.target.value)}
                                    className="bg-gray-500 border border-gray-400 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                />
                            </div>
                            <button
                                type="submit"
                                className="bg-green-500 hover:bg-green-600 text-gray-900 font-bold py-2 px-6 rounded-md shadow-md transition-all duration-300 transform hover:scale-105"
                            >
                                <i className="fas fa-save mr-2"></i> Salvar Pixel
                            </button>
                        </form>
                    </div>

                    {/* Meta Ads Account Consent */}
                    <div className="mb-8 p-6 bg-gray-600 dark:bg-gray-700 rounded-md shadow-inner">
                        <h3 className="text-xl font-bold text-blue-300 mb-4 flex items-center"><i className="fab fa-facebook-square mr-3 text-2xl"></i> Conectar Conta de Anúncios Meta</h3>
                        <p className="text-gray-300 mb-4">
                            Para puxar as métricas de suas campanhas e anúncios, precisamos da sua permissão para acessar sua conta de anúncios Meta.
                            **Atenção: A conexão real envolve um fluxo de autenticação seguro (OAuth) entre o seu servidor e a Meta. Este é apenas um placeholder de UI.**
                        </p>
                        {adsAccountConnected ? (
                            <div className="flex items-center text-green-400 text-lg font-semibold">
                                <i className="fas fa-check-circle mr-3"></i> Conta de Anúncios Conectada!
                            </div>
                        ) : (
                            <button
                                onClick={handleConnectAdsAccount}
                                className="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-md shadow-md transition-all duration-300 transform hover:scale-105"
                            >
                                <i className="fas fa-link mr-2"></i> Conectar Conta Meta Ads
                            </button>
                        )}
                    </div>

                    {/* Pushin Pay Integration */}
                    <div className="p-6 bg-gray-600 dark:bg-gray-700 rounded-md shadow-inner">
                        <h3 className="text-xl font-bold text-blue-300 mb-4 flex items-center"><i className="fas fa-credit-card mr-3 text-2xl"></i> Integração Pushin Pay</h3>
                        <p className="text-gray-300 mb-4">
                            Insira seu token da Pushin Pay para permitir que nosso backend processe pagamentos e consulte o status dos PIX gerados.
                            **Aviso: Por segurança, o processamento de pagamentos e a consulta de status devem ser realizados exclusivamente pelo seu backend, utilizando este token de forma segura.**
                        </p>
                        <form onSubmit={handleSavePushinPayToken} className="flex flex-col md:flex-row gap-4 items-end">
                            <div className="flex-grow flex flex-col">
                                <label htmlFor="pushinPayToken" className="text-gray-300 text-sm font-medium mb-1">Token da Pushin Pay:</label>
                                <input
                                    type="text"
                                    id="pushinPayToken"
                                    placeholder="Seu token secreto da Pushin Pay"
                                    value={pushinPayToken}
                                    onChange={(e) => setPushinPayToken(e.target.value)}
                                    className="bg-gray-500 border border-gray-400 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                    required
                                />
                            </div>
                            <button
                                type="submit"
                                className="bg-green-500 hover:bg-green-600 text-gray-900 font-bold py-2 px-6 rounded-md shadow-md transition-all duration-300 transform hover:scale-105"
                            >
                                <i className="fas fa-save mr-2"></i> Salvar Token
                            </button>
                        </form>
                    </div>
                </div>
            );
        }

        // --- CRIAR CHECKOUT (6) ---
        function CreateCheckout() {
            return (
                <div className="bg-gray-700 dark:bg-gray-800 p-8 rounded-lg shadow-xl text-gray-100 mb-8">
                    <h2 className="text-3xl font-extrabold text-green-400 mb-6 text-center">Página de Criar Checkout</h2>
                    <p className="text-gray-300 text-center">Aqui você poderá configurar e criar novos checkouts para seus produtos.</p>
                    <p className="text-gray-400 text-center mt-4">Funcionalidade a ser desenvolvida.</p>
                </div>
            );
        }

        // --- CAMPANHAS Componente (7) ---
        function CampaignsPage({ showMessage }) {
            const [campaigns, setCampaigns] = useState([]);
            const [adsets, setAdsets] = useState([]);
            const [ads, setAds] = useState([]);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState(null);
            const [accountId, setAccountId] = useState("507111372463621");
            const [startDate, setStartDate] = useState('');
            const [endDate, setEndDate] = useState('');
            const [activeTab, setActiveTab] = useState('campaigns');

            // **ATENÇÃO: MANTER ESTE TOKEN NO CLIENTE NÃO É SEGURO PARA PRODUÇÃO.**
            const TOKEN = "EAAIyWkoZCTyQBPIZCw3jcdHSs3qmHVgHk0hOdxw6bzSpENbnRi2vAvHzIxMq89NEfcAxAmYMB6Ne4KqlCUg2cM9LZATk4zsKEgnIGZCdqKobJynkNp869tXKwmFxr03NVMjG7qavPuphYXuTbSBViU0dKf4Qgy9MfFIKkEhHvuGWmZBvqs9A1mb0rMZCVdv2NrQBqcYvFj4mSs3tl06f8t";

            const contas = MOCK_AD_ACCOUNTS; // Usar o mock global

            const renderStatus = useCallback((status) => {
                if (!status) return null;
                status = status.toLowerCase();
                let colorClass = '';
                if (status.includes("active")) colorClass = 'bg-green-500 text-gray-900';
                else if (status.includes("paused")) colorClass = 'bg-orange-500 text-gray-900';
                else if (status.includes("inactive") || status.includes("archived") || status.includes("completed") || status.includes("deleted")) colorClass = 'bg-red-500 text-white';
                return (
                    <span className={`px-3 py-1 rounded-full text-xs font-semibold ${colorClass}`}>
                        {status.replace(/_/g, ' ')}
                    </span>
                );
            }, []);

            const renderActions = useCallback((actions) => {
                if (!actions || !actions.length) return <p className="text-gray-400 text-sm italic">Sem ações registradas</p>;
                const labels = {
                    "link_click": "Cliques em Links", "post_engagement": "Engajamento Post", "page_engagement": "Engajamento Página",
                    "lead": "Leads", "purchase": "Compras", "view_content": "Visualizações", "add_to_cart": "Add Carrinho",
                    "initiate_checkout": "Início Checkout"
                };
                return (
                    <div className="mt-3 pt-3 border-t border-gray-700">
                        <p className="font-semibold text-gray-300 mb-2">Ações:</p>
                        {actions.map((a, index) => (
                            <p key={index} className="text-sm text-gray-400 flex items-center mb-1">
                                <i className="fas fa-dot-circle text-green-500 mr-2"></i>
                                {labels[a.action_type] || a.action_type}: <strong className="ml-1 text-gray-200">{a.value}</strong>
                            </p>
                        ))}
                    </div>
                );
            }, []);


            const fetchCampaignsData = useCallback(async (currentAccountId, since, until) => {
                setLoading(true);
                setError(null);
                try {
                    // Fetch Campaigns and their insights
                    const urlCampaigns = new URL(`https://graph.facebook.com/v19.0/act_${currentAccountId}/campaigns`);
                    urlCampaigns.searchParams.set("fields", "id,name,status,effective_status,start_time,stop_time");
                    urlCampaigns.searchParams.set("limit", "200");
                    urlCampaigns.searchParams.set("access_token", TOKEN);

                    const urlInsights = new URL(`https://graph.facebook.com/v19.0/act_${currentAccountId}/insights`);
                    urlInsights.searchParams.set("level", "campaign");
                    urlInsights.searchParams.set("fields", "campaign_id,impressions,clicks,spend,actions,ctr,cpc,cpm");
                    urlInsights.searchParams.set("time_range", JSON.stringify({ since, until }));
                    urlInsights.searchParams.set("limit", "500");
                    urlInsights.searchParams.set("access_token", TOKEN);

                    const [campRes, insightsRes] = await Promise.all([
                        fetch(urlCampaigns),
                        fetch(urlInsights)
                    ]);

                    const campData = await campRes.json();
                    const insightsData = await insightsRes.json();

                    if (campData.error) throw new Error(`API Campanhas: ${campData.error.message}`);
                    if (insightsData.error) throw new Error(`API Insights: ${insightsData.error.message}`);

                    const insightsMap = {};
                    (insightsData.data || []).forEach(i => {
                        insightsMap[i.campaign_id] = i;
                    });

                    const combinedCampaigns = (campData.data || []).map(camp => ({
                        ...camp,
                        insights: insightsMap[camp.id] || {}
                    }));
                    setCampaigns(combinedCampaigns);

                    // --- SIMULAÇÃO: Fetch Ad Sets e Ads ---
                    // Em um ambiente real, você faria chamadas API similares para adsets e ads,
                    // mas a API do Meta Ads tem limites e a estrutura das chamadas é mais complexa.
                    // Estou usando dados mockados para 'adsets' e 'ads' por simplificação aqui.
                    const simulatedAdsets = MOCK_ADSETS_DATA.map(adset => ({
                        ...adset,
                        insights: MOCK_ADSETS_DATA.find(i => i.id === adset.id) || {} // Simplified insight mapping
                    })).filter(adset =>
                        combinedCampaigns.some(camp => camp.id === adset.campaign_id) // Filter adsets for fetched campaigns
                    );
                    setAdsets(simulatedAdsets);

                    const simulatedAds = MOCK_ADS_DATA.map(ad => ({
                        ...ad,
                        insights: MOCK_ADS_DATA.find(i => i.id === ad.id) || {} // Simplified insight mapping
                    })).filter(ad =>
                        simulatedAdsets.some(adset => adset.id === ad.adset_id) // Filter ads for fetched adsets
                    );
                    setAds(simulatedAds);

                } catch (err) {
                    setError(err.message);
                    console.error("Erro ao carregar dados de campanhas/adsets/ads:", err);
                    showMessage(`Erro ao carregar dados: ${err.message}`, 'error');
                } finally {
                    setLoading(false);
                }
            }, [TOKEN, showMessage]);

            useEffect(() => {
                const today = new Date();
                const lastWeek = new Date(today);
                lastWeek.setDate(today.getDate() - 7);

                const defaultEndDate = today.toISOString().slice(0, 10);
                const defaultStartDate = lastWeek.toISOString().slice(0, 10);

                setStartDate(defaultStartDate);
                setEndDate(defaultEndDate);
                fetchCampaignsData(accountId, defaultStartDate, defaultEndDate);
            }, [accountId, fetchCampaignsData]);

            const handleRefresh = () => {
                if (!accountId || !startDate || !endDate) {
                    showMessage("Por favor, selecione a conta e as datas.", 'warning');
                    return;
                }
                fetchCampaignsData(accountId, startDate, endDate);
            };

            const renderDataCards = (data, type) => {
                if (data.length === 0) {
                    return <p className="text-center text-gray-400 py-8">Nenhum {type} encontrado(a) para o período e conta selecionados.</p>;
                }

                return (
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {data.map(item => (
                            <div key={item.id} className="bg-gray-700 rounded-lg shadow-md p-5 border border-gray-600 transition-transform duration-300 hover:scale-105 hover:shadow-xl">
                                <h3 className="text-xl font-semibold text-blue-300 mb-2 truncate-text">{item.name || item.id}</h3>
                                {item.status && <div className="mb-3 flex flex-wrap gap-2">{renderStatus(item.status)} {item.effective_status && item.status !== item.effective_status && renderStatus(item.effective_status)}</div>}
                                <p className="text-sm text-gray-300 mb-1"><strong>ID:</strong> <span className="text-gray-200">{item.id}</span></p>
                                {item.start_time && <p className="text-sm text-gray-300 mb-1"><strong>Início:</strong> <span className="text-gray-200">{formatDate(item.start_time)}</span></p>}
                                {item.stop_time && <p className="text-sm text-gray-300 mb-3"><strong>Fim:</strong> <span className="text-gray-200">{item.stop_time ? formatDate(item.stop_time) : 'Em aberto'}</span></p>}
                                {item.objective && <p className="text-sm text-gray-300 mb-1"><strong>Objetivo:</strong> <span className="text-gray-200">{item.objective.replace(/_/g, ' ')}</span></p>}
                                {item.preview_url && (
                                    <div className="mb-3">
                                        <p className="text-sm text-gray-300 mb-1"><strong>Prévia:</strong></p>
                                        <img src={item.preview_url} alt="Creative Preview" className="w-full h-auto max-h-48 object-cover rounded-md mt-2" />
                                        <a href={item.preview_url} target="_blank" rel="noopener noreferrer" className="text-blue-400 text-sm hover:underline mt-1 block">Ver Imagem/Vídeo</a>
                                    </div>
                                )}


                                <div className="mt-4 pt-4 border-t border-gray-600">
                                    <h4 className="font-bold text-lg text-green-400 mb-2">Métricas ({formatDate(startDate)} - {formatDate(endDate)})</h4>
                                    <p className="text-gray-300 text-base mb-1"><strong>Gastos:</strong> <span className="text-red-300 font-semibold">{formatCurrency(item.insights.spend || 0)}</span></p>
                                    <p className="text-gray-300 text-base mb-1"><strong>Cliques:</strong> <span className="text-blue-300 font-semibold">{item.insights.clicks || 0}</span></p>
                                    <p className="text-gray-300 text-base mb-1"><strong>Impressões:</strong> <span className="text-purple-300 font-semibold">{item.insights.impressions || 0}</span></p>
                                    <p className="text-gray-300 text-base mb-1"><strong>CTR:</strong> <span className="text-orange-300 font-semibold">{(parseFloat(item.insights.ctr || 0)).toFixed(2)}%</span></p>
                                    <p className="text-gray-300 text-base mb-1"><strong>CPC:</strong> <span className="text-cyan-300 font-semibold">{formatCurrency(item.insights.cpc || 0)}</span></p>
                                    <p className="text-gray-300 text-base mb-1"><strong>CPM:</strong> <span className="text-pink-300 font-semibold">{formatCurrency(item.insights.cpm || 0)}</span></p>
                                    {renderActions(item.insights.actions)}
                                </div>
                            </div>
                        ))}
                    </div>
                );
            };

            return (
                <div className="bg-gray-700 dark:bg-gray-800 p-8 rounded-lg shadow-xl text-gray-100 mb-8">
                    <h2 className="text-3xl font-extrabold text-green-400 mb-6 text-center">Gestão de Campanhas Meta Ads</h2>

                    {/* Filters and Account Selection */}
                    <div className="flex flex-wrap items-center justify-center gap-6 mb-8 p-4 bg-gray-700 rounded-md">
                        <div className="flex flex-col">
                            <label htmlFor="accountSelect" className="text-gray-300 text-sm font-medium mb-1">Conta de Anúncio:</label>
                            <select
                                id="accountSelect"
                                value={accountId}
                                onChange={(e) => setAccountId(e.target.value)}
                                className="bg-gray-600 border border-gray-500 text-white py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            >
                                {contas.map(conta => (
                                    <option key={conta.id} value={conta.id}>
                                        {conta.name} (ID: {conta.id})
                                    </option>
                                ))}
                            </select>
                        </div>
                        <div className="flex flex-col">
                            <label htmlFor="startDate" className="text-gray-300 text-sm font-medium mb-1">Data Início:</label>
                            <input
                                type="date"
                                id="startDate"
                                value={startDate}
                                onChange={(e) => setStartDate(e.target.value)}
                                className="bg-gray-600 border border-gray-500 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            />
                        </div>
                        <div className="flex flex-col">
                            <label htmlFor="endDate" className="text-gray-300 text-sm font-medium mb-1">Data Fim:</label>
                            <input
                                type="date"
                                id="endDate"
                                value={endDate}
                                onChange={(e) => setEndDate(e.target.value)}
                                className="bg-gray-600 border border-gray-500 text-white py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 cursor-pointer"
                            />
                        </div>
                        <button
                            onClick={handleRefresh}
                            className="bg-green-500 hover:bg-green-600 text-gray-900 font-bold py-2.5 px-6 rounded-md shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center group"
                        >
                            <i className="fas fa-sync-alt mr-2 rotate-on-hover"></i>
                            Atualizar Dados
                        </button>
                    </div>

                    {/* Tabs for Campaigns, Ad Sets, Ads */}
                    <div className="flex justify-center mb-8 bg-gray-700 p-2 rounded-lg shadow-inner">
                        <button
                            onClick={() => setActiveTab('campaigns')}
                            className={`flex-1 py-3 px-4 rounded-md text-sm font-medium transition-all duration-300 ${activeTab === 'campaigns' ? 'bg-green-600 text-white shadow-md' : 'text-gray-300 hover:bg-gray-600 hover:text-white'}`}
                        >
                            <i className="fas fa-bullhorn mr-2"></i> Campanhas
                        </button>
                        <button
                            onClick={() => setActiveTab('adsets')}
                            className={`flex-1 py-3 px-4 rounded-md text-sm font-medium transition-all duration-300 ${activeTab === 'adsets' ? 'bg-green-600 text-white shadow-md' : 'text-gray-300 hover:bg-gray-600 hover:text-white'}`}
                        >
                            <i className="fas fa-layer-group mr-2"></i> Conjuntos de Anúncios
                        </button>
                        <button
                            onClick={() => setActiveTab('ads')}
                            className={`flex-1 py-3 px-4 rounded-md text-sm font-medium transition-all duration-300 ${activeTab === 'ads' ? 'bg-green-600 text-white shadow-md' : 'text-gray-300 hover:bg-gray-600 hover:text-white'}`}
                        >
                            <i className="fas fa-ad mr-2"></i> Criativos
                        </button>
                    </div>

                    {loading && (
                        <div className="text-center py-10">
                            <i className="fas fa-spinner fa-spin text-green-400 text-4xl mb-4"></i>
                            <p className="text-gray-300 text-lg">Carregando dados da Meta Ads...</p>
                        </div>
                    )}
                    {error && (
                        <div className="bg-red-800 text-red-100 p-4 rounded-md text-center">
                            <i className="fas fa-exclamation-triangle mr-2"></i>
                            <p>Erro ao carregar dados: {error}</p>
                            <p className="text-sm mt-2">Verifique seu token de acesso, permissões ou a conexão de internet.</p>
                        </div>
                    )}

                    {!loading && !error && (
                        <div>
                            {activeTab === 'campaigns' && renderDataCards(campaigns, 'Campanha')}
                            {activeTab === 'adsets' && renderDataCards(adsets, 'Conjunto de Anúncios')}
                            {activeTab === 'ads' && renderDataCards(ads, 'Criativo')}
                        </div>
                    )}
                </div>
            );
        }

        // --- NOVO COMPONENTE: DeveloperPage (Página de Documentação da API) ---
        function DeveloperPage() {
            // Conteúdo HTML da documentação da API, recriado aqui.
            const apiDocHtml = `
                <div class="api-doc-container">
                    <h1 class="text-center">Documentação da API HotLead Dashboard</h1>

                    <p>Este documento detalha os endpoints da API para o HotLead Dashboard, permitindo que desenvolvedores conectem o frontend a um backend robusto. Ele assume que o desenvolvedor já tem acesso ao banco de dados e pode implementar a lógica de persistência e integração com APIs de terceiros (Meta Ads, Telegram, Pushin Pay) no lado do servidor.</p>

                    <p class="note"><strong>Objetivo:</strong> Garantir que todas as funcionalidades do frontend possam ser totalmente operacionais e seguras através da integração com o backend.</p>

                    <h2 id="conceitos-gerais">1. Conceitos Gerais</h2>
                    <ul>
                        <li><strong>Base URL da API:</strong> <code>https://api.seuhotlead.com.br</code> (Exemplo: substitua pela URL do seu backend)</li>
                        <li><strong>Formato de Dados:</strong> Todas as requisições e respostas devem estar no formato JSON.
                            <ul>
                                <li><strong>Requisição:</strong> <code>Content-Type: application/json</code></li>
                                <li><strong>Resposta:</strong> <code>Accept: application/json</code></li>
                            </ul>
                        </li>
                        <li><strong>Autenticação:</strong> A maioria dos endpoints requer autenticação. Utilize um token JWT (JSON Web Token) enviado no cabeçalho <code>Authorization</code>.
                            <ul>
                                <li><code>Authorization: Bearer &lt;seu_token_jwt&gt;</code></li>
                            </ul>
                        </li>
                        <li><strong>Tratamento de Erros:</strong>
                            <ul>
                                <li>Respostas de erro seguirão o padrão JSON, incluindo um campo <code>error</code> com uma mensagem descritiva e, opcionalmente, um <code>code</code> de erro.</li>
                                <li>Exemplos de Códigos HTTP:
                                    <ul>
                                        <li><code>200 OK</code>: Sucesso.</li>
                                        <li><code>201 Created</code>: Recurso criado com sucesso.</li>
                                        <li><code>204 No Content</code>: Requisição processada com sucesso, sem conteúdo para retornar.</li>
                                        <li><code>400 Bad Request</code>: Requisição inválida (ex: dados faltando, formato incorreto).</li>
                                        <li><code>401 Unauthorized</code>: Autenticação necessária ou token inválido/expirado.</li>
                                        <li><code>403 Forbidden</code>: Autenticado, mas sem permissão para acessar o recurso.</li>
                                        <li><code>404 Not Found</code>: Recurso não encontrado.</li>
                                        <li><code>500 Internal Server Error</code>: Erro interno do servidor.</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>

                    <h2 id="autenticacao">2. Autenticação</h2>
                    <p>Gerenciamento de usuários e sessões.</p>

                    <h3 id="criar-nova-conta-registro">2.1. Criar Nova Conta (Registro)</h3>
                    <p>Cria um novo usuário na plataforma.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>POST /api/auth/signup</code></li>
                        <li><strong>Corpo da Requisição (JSON):</strong>
<pre><code>{
    "name": "Nome Completo do Usuário",
    "email": "email@exemplo.com",
    "password": "senha_segura_aqui"
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Sucesso (201 Created):</strong>
<pre><code>{
    "message": "Usuário registrado com sucesso. Por favor, faça login."
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Erro (400 Bad Request, 500 Internal Server Error):</strong>
<pre><code>{
    "error": "Email já registrado."
}
</code></pre>
                        </li>
                    </ul>

                    <h3 id="fazer-login">2.2. Fazer Login</h3>
                    <p>Autentica um usuário e retorna um token JWT.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>POST /api/auth/login</code></li>
                        <li><strong>Corpo da Requisição (JSON):</strong>
<pre><code>{
    "email": "email@exemplo.com",
    "password": "senha_segura_aqui"
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "message": "Login bem-sucedido!",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...", // Token JWT para futuras requisições
    "user": {
        "id": "user_123",
        "name": "Nome do Usuário",
        "email": "email@exemplo.com"
    }
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Erro (401 Unauthorized, 400 Bad Request):</strong>
<pre><code>{
    "error": "Credenciais inválidas."
}
</code></pre>
                        </li>
                    </ul>

                    <h3 id="fazer-logout-opcional-se-houver-gerenciamento-de-sessao-no-backend">2.3. Fazer Logout (Opcional, se houver gerenciamento de sessão no backend)</h3>
                    <p>Invalida o token JWT ou a sessão do usuário.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>POST /api/auth/logout</code></li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "message": "Logout realizado com sucesso."
}
</code></pre>
                        </li>
                    </ul>

                    <h2 id="gestao-de-vendas">3. Gestão de Vendas</h2>
                    <p>Endpoints para rastrear e analisar vendas.</p>

                    <h3 id="obter-vendas">3.1. Obter Vendas</h3>
                    <p>Retorna uma lista de todas as vendas, com opções de filtro.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/sales</code></li>
                        <li><strong>Parâmetros de Query (Opcional):</strong>
                            <ul>
                                <li><code>startDate</code>: <code>YYYY-MM-DD</code> (Data de início para filtro de <code>data_geracao</code>)</li>
                                <li><code>endDate</code>: <code>YYYY-MM-DD</code> (Data de fim para filtro de <code>data_geracao</code>)</li>
                                <li><code>modelo</code>: <code>string</code> (ID do bot/modelo para filtrar vendas)</li>
                            </ul>
                        </li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>[
    {
        "modelo": "Joyca",
        "campanha": "lead_quente_01",
        "codigo_pix": "2000796",
        "valor": 1000.00,
        "data_geracao": "2025-07-27T12:38:41Z",
        "data_pagamento": "2025-07-27T12:40:00Z",
        "status": "PAGO",
        "meta_status": "PAID"
    },
    // ... mais objetos de venda
]
</code></pre>
                        </li>
                    </ul>

                    <h3 id="obter-resumo-de-vendas">3.2. Obter Resumo de Vendas</h3>
                    <p>Retorna um resumo agregado das vendas (PIX gerados, pagos, valor total pago).</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/sales/summary</code></li>
                        <li><strong>Parâmetros de Query (Opcional):</strong>
                            <ul>
                                <li><code>startDate</code>: <code>YYYY-MM-DD</code></li>
                                <li><code>endDate</code>: <code>YYYY-MM-DD</code></li>
                                <li><code>modelo</code>: <code>string</code></li>
                            </ul>
                        </li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "totalPixGenerated": 50,
    "totalPixPaid": 30,
    "totalAmountPaid": 45000.00,
    "dailyMetrics": [
        { "date": "2025-07-20", "sales": 1500.00, "spending": 300.00 },
        { "date": "2025-07-21", "sales": 2200.00, "spending": 450.00 }
        // ... dados diários para o gráfico
    ]
}
</code></pre>
                        </li>
                    </ul>

                    <h2 id="gestao-de-bots">4. Gestão de Bots</h2>
                    <p>Endpoints para gerenciar bots de Telegram.</p>

                    <h3 id="listar-bots">4.1. Listar Bots</h3>
                    <p>Retorna todos os bots configurados pelo usuário.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/bots</code></li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>[
    {
        "id": "Joyca",
        "name": "Joyca",
        "status": "ativo",
        "token": "7100827255:AAH4i1m56X-A-u06z1-yJ1w-oD123456789",
        "linkedCampaigns": ["adset_1"],
        "adAccountId": "507111372463621"
    },
    // ... mais objetos de bot
]
</code></pre>
                        </li>
                    </ul>

                    <h3 id="adicionar-novo-bot">4.2. Adicionar Novo Bot</h3>
                    <p>Adiciona um novo bot usando seu token do Telegram. O backend deve validar o token e obter o nome/status do bot.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>POST /api/bots</code></li>
                        <li><strong>Corpo da Requisição (JSON):</strong>
<pre><code>{
    "token": "seu_token_do_telegram_aqui"
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Sucesso (201 Created):</strong>
<pre><code>{
    "message": "Bot adicionado com sucesso!",
    "bot": {
        "id": "NomeDoBot", // ou um ID gerado pelo backend
        "name": "NomeDoBot",
        "status": "ativo",
        "token": "seu_token_do_telegram_aqui",
        "linkedCampaigns": [],
        "adAccountId": null
    }
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Erro (400 Bad Request, 500 Internal Server Error):</strong>
<pre><code>{
    "error": "Token inválido ou erro ao conectar com a API do Telegram."
}
</code></pre>
                        </li>
                    </ul>

                    <h3 id="atualizar-configuracao-do-bot">4.3. Atualizar Configuração do Bot</h3>
                    <p>Atualiza as propriedades de um bot existente, incluindo campanhas vinculadas e conta de anúncios.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>PUT /api/bots/{botId}/config</code></li>
                        <li><strong>Parâmetros de URL:</strong>
                            <ul>
                                <li><code>botId</code>: <code>string</code> (ID do bot a ser atualizado)</li>
                            </ul>
                        </li>
                        <li><strong>Corpo da Requisição (JSON):</strong>
<pre><code>{
    "name": "Novo Nome do Bot (opcional)",
    "status": "ativo" | "inativo", // Status do bot
    "token": "novo_token_se_houver_mudanca", // Opcional, se o token mudar
    "linkedCampaigns": ["adset_id_1", "adset_id_2"], // IDs dos adsets vinculados
    "adAccountId": "id_da_conta_de_anuncios" // ID da conta de anúncios vinculada
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "message": "Configurações do bot atualizadas com sucesso.",
    "bot": {
        "id": "Joyca",
        "name": "Joyca Atualizada",
        "status": "ativo",
        "token": "7100827255:AAH4i1m56X-A-u06z1-yJ1w-oD123456789",
        "linkedCampaigns": ["adset_1", "adset_3"],
        "adAccountId": "507111372463621"
    }
}
</code></pre>
                        </li>
                    </ul>

                    <h3 id="consultar-status-do-bot">4.4. Consultar Status do Bot</h3>
                    <p>Solicita ao backend que verifique o status de um bot via API do Telegram.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/bots/{botId}/status</code></li>
                        <li><strong>Parâmetros de URL:</strong>
                            <ul>
                                <li><code>botId</code>: <code>string</code> (ID do bot a ser consultado)</li>
                            </ul>
                        </li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "status": "ativo",
    "name": "Nome Real do Bot no Telegram",
    "message": "Bot está online e respondendo."
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Erro (400 Bad Request, 500 Internal Server Error):</strong>
<pre><code>{
    "status": "inativo",
    "name": "Desconhecido",
    "error": "Erro ao consultar bot: Token inválido ou problema de conexão."
}
</code></pre>
                        </li>
                    </ul>

                    <h2 id="integracoes">5. Integrações</h2>
                    <p>Endpoints para configurar integrações com plataformas externas.</p>

                    <h3 id="salvar-configuracao-do-pixel-meta">5.1. Salvar Configuração do Pixel Meta</h3>
                    <p>Salva o ID do Pixel Meta para rastreamento.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>POST /api/integrations/meta-pixel</code></li>
                        <li><strong>Corpo da Requisição (JSON):</strong>
<pre><code>{
    "pixelId": "123456789012345"
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "message": "Pixel ID salvo com sucesso."
}
</code></pre>
                        </li>
                    </ul>

                    <h3 id="conectar-conta-de-anuncios-meta-ads-oauth-flow">5.2. Conectar Conta de Anúncios Meta Ads (OAuth Flow)</h3>
                    <p class="warning"><strong>IMPORTANTE:</strong> A conexão com a API de Anúncios da Meta (Facebook/Instagram Ads) <strong>DEVE</strong> ser feita via um fluxo OAuth 2.0 no backend. O frontend apenas iniciará o processo.</p>
                    <ul>
                        <li><strong>Endpoint para iniciar o OAuth (Frontend para Backend):</strong> <code>GET /api/integrations/meta-ads/connect</code>
                            <ul>
                                <li>O backend deve redirecionar o usuário para a URL de autenticação da Meta, incluindo <code>client_id</code>, <code>redirect_uri</code>, <code>scope</code> (permissões necessárias como <code>ads_read</code>, <code>ads_management</code>), e <code>state</code>.</li>
                                <li>Após a autorização do usuário na Meta, a Meta redirecionará de volta para a <code>redirect_uri</code> do seu backend com um <code>code</code>.</li>
                                <li>Seu backend então trocará este <code>code</code> por um <code>access_token</code> de longo prazo com a Meta.</li>
                                <li>O backend deve armazenar este <code>access_token</code> de forma segura e associá-lo ao usuário.</li>
                            </ul>
                        </li>
                        <li><strong>Endpoint para receber o Access Token (Backend para Frontend, após OAuth completo):</strong>
                            <ul>
                                <li>Após o backend obter e armazenar o token, ele pode redirecionar o frontend de volta para uma página de sucesso, talvez com um parâmetro de query indicando o sucesso da conexão.</li>
                                <li><strong>Não envie o <code>access_token</code> diretamente para o frontend.</strong> O frontend apenas precisa saber que a conexão foi bem-sucedida.</li>
                            </ul>
                        </li>
                        <li><strong>Resposta de Sucesso (Exemplo de backend redirecionando para frontend):</strong>
                            <ul>
                                <li>Redirecionamento para <code>https://app.seuhotlead.com.br/integrations?meta_ads_connected=true</code></li>
                            </ul>
                        </li>
                        <li><strong>Resposta de Erro (Exemplo de backend redirecionando para frontend):</strong>
                            <ul>
                                <li>Redirecionamento para <code>https://app.seuhotlead.com.br/integrations?meta_ads_connected=false&amp;error=user_denied</code></li>
                            </ul>
                        </li>
                    </ul>

                    <h3 id="salvar-token-da-pushin-pay">5.3. Salvar Token da Pushin Pay</h3>
                    <p>Salva o token de API da Pushin Pay para processamento de pagamentos.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>POST /api/integrations/pushin-pay</code></li>
                        <li><strong>Corpo da Requisição (JSON):</strong>
<pre><code>{
    "token": "seu_token_secreto_pushin_pay_aqui"
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "message": "Token da Pushin Pay salvo com sucesso."
}
</code></pre>
                        </li>
                        <li><p class="note"><strong>Observação de Segurança:</strong> O backend deve usar este token para interagir com a API da Pushin Pay de forma segura, sem expô-lo ao frontend.</p></li>
                    </ul>

                    <h2 id="gestao-de-campanhas-meta-ads">6. Gestão de Campanhas Meta Ads</h2>
                    <p>Endpoints para obter dados de campanhas, conjuntos de anúncios e criativos da Meta Ads.
                    <p class="warning"><strong>Todas as chamadas à API da Meta (Facebook/Instagram Ads) devem ser feitas pelo backend para proteger seu <code>access_token</code> e evitar problemas de CORS/limites de taxa.</strong></p>

                    <h3 id="obter-contas-de-anuncios">6.1. Obter Contas de Anúncios</h3>
                    <p>Lista as contas de anúncios acessíveis pelo token Meta Ads conectado.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/meta-ads/accounts</code></li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>[
    { "id": "507111372463621", "name": "Conta de Anúncios 1 (Principal)" },
    { "id": "1421566932486575", "name": "Conta de Anúncios 2 (Backup)" }
    // ... mais contas
]
</code></pre>
                        </li>
                    </ul>

                    <h3 id="obter-campanhas">6.2. Obter Campanhas</h3>
                    <p>Retorna uma lista de campanhas de uma conta de anúncios específica, com insights.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/meta-ads/campaigns</code></li>
                        <li><strong>Parâmetros de Query:</strong>
                            <ul>
                                <li><code>accountId</code>: <code>string</code> (ID da conta de anúncios)</li>
                                <li><code>startDate</code>: <code>YYYY-MM-DD</code></li>
                                <li><code>endDate</code>: <code>YYYY-MM-DD</code></li>
                            </ul>
                        </li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>[
    {
        "id": "campaign_id_1",
        "name": "Campanha de Verão 2025",
        "status": "ACTIVE",
        "effective_status": "ACTIVE",
        "start_time": "2025-07-01T00:00:00Z",
        "stop_time": null,
        "insights": {
            "spend": "1250.75",
            "impressions": "150000",
            "clicks": "3500",
            "actions": [ { "action_type": "lead", "value": "150" } ],
            "ctr": "2.33",
            "cpc": "0.35",
            "cpm": "8.33"
        }
    },
    // ... mais campanhas
]
</code></pre>
                        </li>
                    </ul>

                    <h3 id="obter-conjuntos-de-anuncios-ad-sets">6.3. Obter Conjuntos de Anúncios (Ad Sets)</h3>
                    <p>Retorna uma lista de conjuntos de anúncios de uma conta ou campanha específica, com insights.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/meta-ads/adsets</code></li>
                        <li><strong>Parâmetros de Query:</strong>
                            <ul>
                                <li><code>accountId</code>: <code>string</code> (ID da conta de anúncios)</li>
                                <li><code>campaignId</code>: <code>string</code> (Opcional: filtra por campanha específica)</li>
                                <li><code>startDate</code>: <code>YYYY-MM-DD</code></li>
                                <li><code>endDate</code>: <code>YYYY-MM-DD</code></li>
                            </ul>
                        </li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>[
    {
        "id": "adset_id_1",
        "name": "AdSet Público Quente",
        "status": "ACTIVE",
        "campaign_id": "campaign_id_1",
        "objective": "LEAD_GENERATION",
        "insights": { /* mesmas métricas que campanhas */ }
    },
    // ... mais ad sets
]
</code></pre>
                        </li>
                    </ul>

                    <h3 id="obter-criativos-ads">6.4. Obter Criativos (Ads)</h3>
                    <p>Retorna uma lista de criativos (anúncios) de uma conta ou conjunto de anúncios específico, com insights.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/meta-ads/ads</code></li>
                        <li><strong>Parâmetros de Query:</strong>
                            <ul>
                                <li><code>accountId</code>: <code>string</code> (ID da conta de anúncios)</li>
                                <li><code>adsetId</code>: <code>string</code> (Opcional: filtra por ad set específico)</li>
                                <li><code>startDate</code>: <code>YYYY-MM-DD</code></li>
                                <li><code>endDate</code>: <code>YYYY-MM-DD</code></li>
                            </ul>
                        </li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>[
    {
        "id": "ad_id_1",
        "name": "Criativo Imagem Produto A",
        "status": "ACTIVE",
        "adset_id": "adset_id_1",
        "preview_url": "https://url.da.imagem/ad1.jpg",
        "insights": { /* mesmas métricas que campanhas */ }
    },
    // ... mais criativos
]
</code></pre>
                        </li>
                    </ul>

                    <h3 id="obter-insights-agregados">6.5. Obter Insights Agregados</h3>
                    <p>Endpoint genérico para obter insights de uma conta, campanha, conjunto de anúncios ou criativo.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/meta-ads/insights/summary</code></li>
                        <li><strong>Parâmetros de Query:</strong>
                            <ul>
                                <li><code>accountId</code>: <code>string</code> (Obrigatório)</li>
                                <li><code>level</code>: <code>account</code> | <code>campaign</code> | <code>adset</code> | <code>ad</code> (Nível de agregação)</li>
                                <li><code>id</code>: <code>string</code> (Opcional: ID da campanha/adset/ad, se <code>level</code> não for <code>account</code>)</li>
                                <li><code>startDate</code>: <code>YYYY-MM-DD</code></li>
                                <li><code>endDate</code>: <code>YYYY-MM-DD</code></li>
                            </ul>
                        </li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "data": [
        {
            "spend": "1500.00",
            "impressions": "200000",
            "clicks": "5000",
            "actions": [ { "action_type": "purchase", "value": "50" } ]
        }
    ]
}
</code></pre>
                        </li>
                    </ul>

                    <h2 id="criacao-de-checkout">7. Criação de Checkout</h2>
                    <p>Endpoints para gerenciar páginas de checkout.</p>

                    <h3 id="criar-novo-checkout">7.1. Criar Novo Checkout</h3>
                    <p>Cria uma nova página de checkout.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>POST /api/checkouts</code></li>
                        <li><strong>Corpo da Requisição (JSON):</strong>
<pre><code>{
    "name": "Checkout Produto X",
    "product_id": "prod_abc",
    "price": 99.90,
    "currency": "BRL",
    "description": "Descrição breve do produto.",
    "redirect_url_success": "https://seusite.com/obrigado",
    "redirect_url_fail": "https://seusite.com/erro"
    // ... outros campos relevantes para o checkout
}
</code></pre>
                        </li>
                        <li><strong>Resposta de Sucesso (201 Created):</strong>
<pre><code>{
    "message": "Checkout criado com sucesso!",
    "checkout": {
        "id": "chk_123",
        "name": "Checkout Produto X",
        "public_url": "https://checkout.seuhotlead.com.br/chk_123"
    }
}
</code></pre>
                        </li>
                    </ul>

                    <h3 id="obter-detalhes-do-checkout">7.2. Obter Detalhes do Checkout</h3>
                    <p>Retorna os detalhes de um checkout específico.</p>
                    <ul>
                        <li><strong>Endpoint:</strong> <code>GET /api/checkouts/{checkoutId}</code></li>
                        <li><strong>Parâmetros de URL:</strong>
                            <ul>
                                <li><code>checkoutId</code>: <code>string</code> (ID do checkout)</li>
                            </ul>
                        </li>
                        <li><strong>Cabeçalhos:</strong> <code>Authorization: Bearer &lt;token_jwt&gt;</code></li>
                        <li><strong>Resposta de Sucesso (200 OK):</strong>
<pre><code>{
    "id": "chk_123",
    "name": "Checkout Produto X",
    "product_id": "prod_abc",
    "price": 99.90,
    "currency": "BRL",
    "description": "Descrição breve do produto.",
    "public_url": "https://checkout.seuhotlead.com.br/chk_123",
    "created_at": "2025-07-18T10:00:00Z"
}
</code></pre>
                        </li>
                    </ul>

                    <h2 id="consideracoes-finais-para-o-desenvolvedor">8. Considerações Finais para o Desenvolvedor</h2>
                    <ul>
                        <li><strong>Segurança em Primeiro Lugar:</strong>
                            <ul>
                                <li><p class="warning"><strong>Nunca exponha tokens de API (Meta, Telegram, Pushin Pay) diretamente no frontend.</strong> Todas as interações com essas APIs devem ser intermediadas pelo seu backend.</p></li>
                                <li>Implemente validação de entrada robusta em todos os endpoints do backend.</li>
                                <li>Utilize HTTPS para todas as comunicações.</li>
                                <li>Gerencie tokens JWT de forma segura (armazenamento, expiração, renovação).</li>
                            </ul>
                        </li>
                        <li><strong>Escalabilidade:</strong> Projete seu backend para ser escalável, especialmente ao lidar com grandes volumes de dados de vendas e campanhas.</li>
                        <li><strong>Monitoramento e Logs:</strong> Implemente monitoramento e logs detalhados no backend para depuração e auditoria.</li>
                        <li><strong>Testes:</strong> Realize testes unitários, de integração e de ponta a ponta para garantir a estabilidade e correção da API.</li>
                        <li><strong>Documentação Interna:</strong> Mantenha uma documentação interna do backend sempre atualizada, detalhando a lógica de negócios e as integrações com APIs de terceiros.</li>
                    </ul>

                    <p>Com esta documentação, você terá uma base sólida para construir um backend que suporte todas as funcionalidades do HotLead Dashboard, garantindo segurança e eficiência.</p>
                </div>
            `;
            return (
                <div className="bg-gray-700 dark:bg-gray-800 p-8 rounded-lg shadow-xl text-gray-100 mb-8">
                    <h2 className="text-3xl font-extrabold text-green-400 mb-6 text-center">Documentação da API</h2>
                    <div dangerouslySetInnerHTML={{ __html: apiDocHtml }} />
                </div>
            );
        }

        // --- Componente Principal da Aplicação ---
        function App() {
            const [currentPage, setCurrentPage] = useState('landing'); // Nova página inicial padrão
            const [isLoggedIn, setIsLoggedIn] = useState(false); // Estado de autenticação
            const [isDarkMode, setIsDarkMode] = useState(false);
            const [messageBox, setMessageBox] = useState({ message: '', type: '', visible: false });

            const showMessage = (message, type) => {
                setMessageBox({ message, type, visible: true });
            };

            const hideMessage = () => {
                setMessageBox({ ...messageBox, visible: false });
            };

            useEffect(() => {
                // Tenta carregar token do localStorage para verificar se já está logado
                const token = localStorage.getItem('userToken');
                if (token) {
                    setIsLoggedIn(true);
                    setCurrentPage('dashboard'); // Se logado, vai direto para o dashboard
                } else {
                    setCurrentPage('landing'); // Caso contrário, para a nova landing page
                }

                // Carrega a preferência de tema do localStorage
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'dark') {
                    setIsDarkMode(true);
                } else {
                    setIsDarkMode(false);
                }
            }, []);

            useEffect(() => {
                // Aplica a classe 'dark' ao <html> baseado no estado
                if (isDarkMode) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
                // Salva a preferência no localStorage
                localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
            }, [isDarkMode]);

            const toggleDarkMode = () => {
                setIsDarkMode(prevMode => !prevMode);
            };

            const handleLoginSuccess = () => {
                setIsLoggedIn(true);
                setCurrentPage('dashboard');
            };

            const handleLogout = () => {
                localStorage.removeItem('userToken'); // Remove o token de autenticação
                setIsLoggedIn(false);
                setCurrentPage('landing'); // Volta para a landing page após o logout
                showMessage('Você foi desconectado.', 'info');
            };

            const navigateTo = (page) => {
                if (isLoggedIn || page === 'login' || page === 'signup' || page === 'landing' || page === 'developer') { // Adicionado 'developer'
                    setCurrentPage(page);
                } else {
                    // Se tentar navegar para uma página interna sem login, redireciona para login
                    setCurrentPage('login');
                    showMessage('Por favor, faça login para acessar esta funcionalidade.', 'warning');
                }
            };

            return (
                <div className="min-h-screen bg-gray-100 font-sans dark:bg-gray-900 transition-colors duration-300">
                    {isLoggedIn && (
                        <Header
                            onNavigate={navigateTo}
                            currentPage={currentPage}
                            toggleDarkMode={toggleDarkMode}
                            isDarkMode={isDarkMode}
                        />
                    )}
                    <main className={`container mx-auto p-4 ${isLoggedIn ? '' : 'flex flex-grow items-center justify-center'}`}>
                        {!isLoggedIn ? (
                            <>
                                {currentPage === 'landing' && <LandingPage onNavigate={navigateTo} />}
                                {currentPage === 'login' && (
                                    <LoginPage
                                        onLoginSuccess={handleLoginSuccess}
                                        onSignUpClick={() => navigateTo('signup')}
                                        showMessage={showMessage}
                                    />
                                )}
                                {currentPage === 'signup' && (
                                    <SignUpPage
                                        onSignUpSuccess={() => navigateTo('login')}
                                        onLoginClick={() => navigateTo('login')}
                                        showMessage={showMessage}
                                    />
                                )}
                            </>
                        ) : (
                            <>
                                {currentPage === 'dashboard' && <Dashboard />}
                                {currentPage === 'sales' && <SalesPage />}
                                {currentPage === 'bots' && <BotsPage showMessage={showMessage} />}
                                {currentPage === 'integrations' && <IntegrationsPage showMessage={showMessage} />}
                                {currentPage === 'create-checkout' && <CreateCheckout />}
                                {currentPage === 'campaigns' && <CampaignsPage showMessage={showMessage} />}
                                {currentPage === 'developer' && <DeveloperPage />} {/* Nova página do desenvolvedor */}
                                {/* Botão de Logout para quando estiver logado */}
                                <div className="fixed bottom-4 right-4">
                                    <button
                                        onClick={handleLogout}
                                        className="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg"
                                    >
                                        <i className="fas fa-sign-out-alt mr-2"></i> Logout
                                    </button>
                                </div>
                            </>
                        )}
                    </main>
                    {messageBox.visible && (
                        <MessageBox
                            message={messageBox.message}
                            type={messageBox.type}
                            onClose={hideMessage}
                        />
                    )}
                </div>
            );
        }

        // Renderiza o aplicativo React no elemento 'root' do HTML
        window.onload = function() {
            ReactDOM.createRoot(document.getElementById('root')).render(<App />);
        };

    </script>
</body>
</html>
